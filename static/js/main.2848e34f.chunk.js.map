{"version":3,"sources":["svgs/network.svg","svgs/network_purple.svg","svgs/manual.svg","svgs/preview.svg","svgs/preview_purple.svg","svgs/close.svg","svgs/check.svg","svgs/open_new_tab.png","svgs/painting.svg","svgs/painting_purple.svg","PageContainer.js","components/plugins/highlightPlugin.js","Manual.jsx","subComponents/EditorNavbar.jsx","helperFunctions/TransitionNodesHelperFunctions.js","helperFunctions/transitionFormFunctions.js","helperFunctions/updateFunctions.js","helperFunctions/mouseFunctions.js","helperFunctions/windowMouseFunctions.js","helperFunctions/setUp.js","RoadmapediaSubComponents/PreviewCard.jsx","RoadmapediaSubComponents/ColorCard.jsx","Roadmapedia.jsx","helperFunctions/optionGroupClicks.js","helperFunctions/StringHelperFunctions.js","Home.jsx","App.js","serviceWorker.js","index.js","svgs/t-alphabet.svg","svgs/link.svg","svgs/t-alphabet-purple.svg","svgs/purpleLink.svg"],"names":["module","exports","highlightPlugin","customStyleMap","HIGHLIGHT","background","keyBindingFn","e","ctrlKey","key","handleKeyCommand","command","editorState","_eventTimeStamp","setEditorState","RichUtils","toggleInlineStyle","React","Component","Manual","className","EditorNavbar","props","state","loading","LoadingCircle","Fragment","style","height","border","onClick","history","push","this","withRouter","globalRadius","getTranslateString","x","y","decodeTranslateString","prevOptionGTransform","eachCircleTransform","selectedNode","prevLocationX","prevLocationY","prevX","prevY","includes","substring","indexOf","diffX","diffY","Number","translateFromCenterToDefault","d","i","list","periodSpaceBetween","Math","PI","length","updateBasePeriod","cos","sin","translateToDefault","goTo","t","basePeriod","translateBackLastMoved","base","newBasePeriod","makeTransitionNodeData","temp","href","console","log","updateLastClicked","app","newClickedId","newClickedNode","newClickedData","lastClickedId","lastClickedNode","lastClickedD","closeForm","d3","transition","duration","on","remove","isFormShowing","closeNode","attr","stretchCloseOptionGroupForm","endFunction","optionGroupG","optionGroupConnector","isOptionGroupFormVisible","optionGroup","invertOptionGroupVisibility","type","width","updateStroke","allNodeSelection","each","eachNodeData","id","prevStyle","strokeColor","restartOptionG","optionG","append","transitionGs","selectAll","data","transitionGDataset","shouldTransitionGsAnimate","animationAlreadyCompleted","delay","attrTween","isTransitioning","exit","transitionGsEnter","enter","merge","onTransitionNodeClick","dClicked","iClicked","DOMEle","clickedNode","forceUpdate","storedInfo","picture","shouldTransitionGsEnterAnimation","openForm","select","lower","attrs","shouldAnimate","transitionForm","url","node","innerText","info","title","newURL","_groups","value","circleGroups","pictureRef","img","Image","onload","src","onerror","newValue","focus","r","fill","class","transitionImages","nodeMouseDown","mousedownNode","nodeMouseUp","preview","dragLine","classed","mouseupNode","link","source","target","linkDistance","index","links","restart","textNodeClick","lastClickedCircle","keydown","isTyping","keyCode","shiftKey","setError","redo","undo","selectedLink","toSplice","filter","l","splice","splicelinksForNode","nodes","n","action","inverse","storeToHistory","keyup","inConnectMode","ease","stretchOutOptionGroupForm","setSVGEvents","svg","mainRef","xy1","container","invert","windowMouseMove","point","transform","windowClick","PreviewCard","window","open","ColorCard","textSizeDecrement","textSize","changeTextSize","setState","textSizeIncrement","onSubmit","changeBackgroundColor","color","changeStrokeColor","onChange","newProps","backgroundColorArray","concat","slice","strokeColorArray","selectedBackgroundColor","backgroundColor","selectedStrokeColor","map","eachColor","onBlur","min","max","initialNodes","initialLinks","GraphEditor","toggleFocus","prevFocus","force","distance","strength","tick","alphaTarget","previousTransform","togglePreview","empty","isTransitionCircleShowing","toDispatch","dispatch","newTextSize","showManual","errMsg","theming","mousedownLink","path","rectGroups","texts","textBox","resourceForm","drag","startText","isDragging","JSON","stringify","historyStep","inverseCommand","eachLink","text","description","actionCommand","error","waitTime","isErroring","interrupt","setTimeout","innerWidth","innerHeight","defs","gradient","setDefsGradient","stroke","rx","x1","y1","x2","y2","optionGroupText","alphabetT","optionGroupLink","optionGroupT","alphabetTPurple","groupID","textFont","setOptionGroupTextMouseEvents","purpleLink","setOptionGroupLinkMouseEvents","active","fx","fy","getInitialForce","zoom","call","resize","sqrt","pow","textInputCircle","eachNode","rectGroupsEnter","rect","circleGroupsExit","circleGroupsEnter","cx","cy","prevLocation","lastClickedCircleD","prevTransitionCircles","decoded","bruh","alreadyDid","translateString","pureDecodeTranslate","d2","fakeNodesData","newGs","pop","circleNodeClick","textContainers","opacity","getBBox","bboxHeight","html","a","replace","_","eachTextHeight","textGroup","widthArray","ry","rectData","paragraph","textArr","initialHTML","textArrToHTML","nodeToChange","preventDefault","nodeHTML","innerHTML","split","blur","textNodeDblClick","errDisplay","toggleManual","manual","focused","notFocused","preview_purple","Home","cursor","App","component","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2848e34f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/network.472c20fc.svg\";","module.exports = __webpack_public_path__ + \"static/media/network_purple.ab9393b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/manual.49e6e6a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/preview.3ccd9438.svg\";","module.exports = __webpack_public_path__ + \"static/media/preview_purple.5700530b.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.db093ba0.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.8b4d6e74.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/painting.cb7eeca0.svg\";","module.exports = __webpack_public_path__ + \"static/media/painting_purple.d0c2add9.svg\";","import React from \"react\";\nimport {\n  // Editor,\n  EditorState,\n  RichUtils\n} from \"draft-js\";\nimport Editor, { createEditorStateWithText } from \"draft-js-plugins-editor\";\nimport createHighlightPlugin from \"./components/plugins/highlightPlugin\";\nimport EditorCSS from \"./PageContainer.css\";\n\nconst highlightPlugin = createHighlightPlugin();\n\nclass PageContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editorState: EditorState.createEmpty()\n    };\n\n    this.plugins = [highlightPlugin];\n  }\n\n  componentDidMount() {\n    this.refs.editorRef.focus();\n  }\n\n  onChange = editorState => {\n    this.setState({\n      editorState\n    });\n  };\n\n  handleKeyCommand = command => {\n    const newState = RichUtils.handleKeyCommand(\n      this.state.editorState,\n      command\n    );\n    if (newState) {\n      this.onChange(newState);\n      return \"handled\";\n    }\n    return \"not-handled\";\n  };\n\n  onUnderlineClick = () => {\n    this.onChange(\n      RichUtils.toggleInlineStyle(this.state.editorState, \"UNDERLINE\")\n    );\n  };\n\n  onBoldClick = e => {\n    e.preventDefault();\n    this.onChange(RichUtils.toggleInlineStyle(this.state.editorState, \"BOLD\"));\n  };\n\n  onItalicClick = () => {\n    this.onChange(\n      RichUtils.toggleInlineStyle(this.state.editorState, \"ITALIC\")\n    );\n  };\n\n  onStrikeThroughClick = () => {\n    this.onChange(\n      RichUtils.toggleInlineStyle(this.state.editorState, \"STRIKETHROUGH\")\n    );\n  };\n\n  onHighlight = () => {\n    this.onChange(\n      RichUtils.toggleInlineStyle(this.state.editorState, \"HIGHLIGHT\")\n    );\n  };\n\n  onTxtToNode = () => {\n    function _getTextSelection(contentState, selection, blockDelimiter) {\n      blockDelimiter = blockDelimiter || \"\\n\";\n      var startKey = selection.getStartKey();\n      var endKey = selection.getEndKey();\n      var blocks = contentState.getBlockMap();\n\n      var lastWasEnd = false;\n      var selectedBlock = blocks\n        .skipUntil(function(block) {\n          return block.getKey() === startKey;\n        })\n        .takeUntil(function(block) {\n          var result = lastWasEnd;\n\n          if (block.getKey() === endKey) {\n            lastWasEnd = true;\n          }\n\n          return result;\n        });\n\n      return selectedBlock\n        .map(function(block) {\n          var key = block.getKey();\n          var text = block.getText();\n\n          var start = 0;\n          var end = text.length;\n\n          if (key === startKey) {\n            start = selection.getStartOffset();\n          }\n          if (key === endKey) {\n            end = selection.getEndOffset();\n          }\n\n          text = text.slice(start, end);\n          return text;\n        })\n        .join(blockDelimiter);\n    }\n    let editorState = this.state.editorState;\n\n    var text = _getTextSelection(\n      editorState.getCurrentContent(),\n      editorState.getSelection(),\n      null\n    );\n\n    var style = \"\";\n    if (this.state.editorState.getCurrentInlineStyle().has(\"BOLD\"))\n      style += \"bold\";\n    if (this.state.editorState.getCurrentInlineStyle().has(\"HIGHLIGHT\"))\n      style += \"highlight\";\n    if (this.state.editorState.getCurrentInlineStyle().has(\"ITALIC\"))\n      style += \"italic\";\n\n    if (text) {\n      this.props.onTxtToNode(text, style);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"textEditorContainer\">\n        <button\n          id=\"bold\"\n          className=\"PageContainerButton\"\n          onClick={this.onBoldClick}\n        >\n          <b>B</b>\n        </button>\n        <button\n          id=\"italic\"\n          className=\"PageContainerButton\"\n          onClick={this.onItalicClick}\n        >\n          <em>I</em>\n        </button>\n        <button\n          id=\"highlight\"\n          className=\"PageContainerButton\"\n          onClick={this.onHighlight}\n        >\n          <span>H</span>\n        </button>\n        <button\n          id=\"textToNode\"\n          className=\"PageContainerButton\"\n          onClick={this.onTxtToNode}\n        >\n          <span> Text To Nodes</span>\n        </button>\n        <div\n          className=\"editors\"\n          style={{\n            width: \"90%\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            marginTop: \"3rem\"\n          }}\n        >\n          <Editor\n            ref=\"editorRef\"\n            editorState={this.state.editorState}\n            handleKeyCommand={this.handleKeyCommand}\n            plugins={this.plugins}\n            onChange={this.onChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PageContainer;\n","import { RichUtils } from \"draft-js\";\r\n\r\nexport default () => {\r\n  return {\r\n    customStyleMap: {\r\n      HIGHLIGHT: {\r\n        background: \"#fffe0d\"\r\n      }\r\n    },\r\n    keyBindingFn: e => {\r\n      if (e.ctrlKey && e.key === \"h\") {\r\n        return \"highlight\";\r\n      }\r\n    },\r\n    handleKeyCommand: (\r\n      command,\r\n      editorState,\r\n      _eventTimeStamp,\r\n      { setEditorState }\r\n    ) => {\r\n      if (command === \"highlight\") {\r\n        setEditorState(RichUtils.toggleInlineStyle(editorState, \"HIGHLIGHT\"));\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport \"./Manual.css\";\r\nclass Manual extends Component {\r\n  //warning: modal doesn't display on windows iphone\r\n  render() {\r\n    return (\r\n      <div className=\"ModalContainer\">\r\n        <div className=\"ModalBlock\">\r\n          <button className=\"ManualButton\">ctrl</button> +\r\n          <button className=\"ManualButton\">click</button> to add new node\r\n        </div>\r\n        <div className=\"ModalBlock\">\r\n          <button className=\"ManualButton\">ctrl</button> +\r\n          <button className=\"ManualButton\">drag</button> to links nodes\r\n        </div>\r\n        <div className=\"ModalBlock\">\r\n          <button className=\"ManualButton\">select</button> +\r\n          <button className=\"ManualButton\">delete</button> to delete node\r\n        </div>\r\n        <div className=\"ModalBlock\">\r\n          <button className=\"ManualButton\">ctrl</button> +\r\n          <button className=\"ManualButton\">z</button>\r\n          <button className=\"ManualButton\">y</button> for undo/redo\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Manual;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./css/EditorNavbar.css\";\r\nclass EditorNavbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loading: true };\r\n  }\r\n\r\n  //bruh\r\n\r\n  render() {\r\n    const LoadingCircle = <React.Fragment>circle loading</React.Fragment>;\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"50px\",\r\n          border: \"3px solid black\"\r\n        }}\r\n      >\r\n        <a\r\n          onClick={() => {\r\n            this.props.history.push(\"/home\");\r\n          }}\r\n        >\r\n          &lt; home\r\n        </a>\r\n        saved\r\n        {this.state.loading ? LoadingCircle : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(EditorNavbar);\r\n","var globalRadius = 35;\r\n\r\nexport function getTranslateString(x, y) {\r\n  return \"translate(\" + x + \" \" + y + \")\";\r\n}\r\n\r\nexport function pureDecodeTranslate(translateString) {\r\n  var x, y;\r\n  if (translateString.includes(\",\")) {\r\n    x = translateString.substring(\r\n      translateString.indexOf(\"(\") + 1,\r\n      translateString.indexOf(\",\")\r\n    );\r\n    y = translateString.substring(\r\n      translateString.indexOf(\",\") + 1,\r\n      translateString.indexOf(\")\")\r\n    );\r\n  } else {\r\n    x = translateString.substring(\r\n      translateString.indexOf(\"(\") + 1,\r\n      translateString.indexOf(\" \")\r\n    );\r\n    y = translateString.substring(\r\n      translateString.indexOf(\" \") + 1,\r\n      translateString.indexOf(\")\")\r\n    );\r\n  }\r\n\r\n  return { x: x, y: y };\r\n}\r\n\r\nexport function decodeTranslateString(\r\n  prevOptionGTransform,\r\n  eachCircleTransform,\r\n  selectedNode\r\n) {\r\n  var prevLocationX, prevLocationY, prevX, prevY;\r\n  if (prevOptionGTransform.includes(\",\")) {\r\n    prevLocationX = prevOptionGTransform.substring(\r\n      prevOptionGTransform.indexOf(\"(\") + 1,\r\n      prevOptionGTransform.indexOf(\",\")\r\n    );\r\n    prevLocationY = prevOptionGTransform.substring(\r\n      prevOptionGTransform.indexOf(\",\") + 1,\r\n      prevOptionGTransform.indexOf(\")\")\r\n    );\r\n  } else {\r\n    prevLocationX = prevOptionGTransform.substring(\r\n      prevOptionGTransform.indexOf(\"(\") + 1,\r\n      prevOptionGTransform.indexOf(\" \")\r\n    );\r\n    prevLocationY = prevOptionGTransform.substring(\r\n      prevOptionGTransform.indexOf(\" \") + 1,\r\n      prevOptionGTransform.indexOf(\")\")\r\n    );\r\n  }\r\n\r\n  var diffX = prevLocationX - selectedNode.x;\r\n  var diffY = prevLocationY - selectedNode.y;\r\n\r\n  if (eachCircleTransform.includes(\",\")) {\r\n    prevX = eachCircleTransform.substring(\r\n      eachCircleTransform.indexOf(\"(\") + 1,\r\n      eachCircleTransform.indexOf(\",\")\r\n    );\r\n    prevY = eachCircleTransform.substring(\r\n      eachCircleTransform.indexOf(\",\") + 1,\r\n      eachCircleTransform.indexOf(\")\")\r\n    );\r\n  } else {\r\n    prevX = eachCircleTransform.substring(\r\n      eachCircleTransform.indexOf(\"(\") + 1,\r\n      eachCircleTransform.indexOf(\" \")\r\n    );\r\n    prevY = eachCircleTransform.substring(\r\n      eachCircleTransform.indexOf(\" \") + 1,\r\n      eachCircleTransform.indexOf(\")\")\r\n    );\r\n  }\r\n\r\n  return {\r\n    x: Number(diffX) + Number(prevX) - 75,\r\n    y: Number(diffY) + Number(prevY) - 20\r\n  };\r\n}\r\n\r\nexport function translateFromCenterToDefault() {\r\n  return function(d, i, list) {\r\n    var periodSpaceBetween = Math.PI / (list.length + 1);\r\n    updateBasePeriod(d, Math.PI / 2 - periodSpaceBetween * (i + 1));\r\n    var x = globalRadius * Math.cos(Math.PI / 2 - periodSpaceBetween * (i + 1));\r\n    var y =\r\n      -globalRadius * Math.sin(Math.PI / 2 - periodSpaceBetween * (i + 1));\r\n\r\n    return getTranslateString(x, y);\r\n  };\r\n}\r\n\r\nexport function translateToDefault() {\r\n  return function(d, i, list) {\r\n    var periodSpaceBetween = Math.PI / (list.length + 1);\r\n    var goTo = Math.PI / 2 - periodSpaceBetween * (i + 1);\r\n\r\n    return function(t) {\r\n      var x = globalRadius * Math.cos(d.basePeriod + (goTo - d.basePeriod) * t);\r\n      var y =\r\n        -globalRadius * Math.sin(d.basePeriod + (goTo - d.basePeriod) * t);\r\n      return getTranslateString(x, y);\r\n    };\r\n  };\r\n}\r\n\r\nexport function translateBackLastMoved(base) {\r\n  return function(d, i, list) {\r\n    return function(t) {\r\n      var y = -globalRadius * Math.sin(-base * t + d.basePeriod);\r\n      var x = +globalRadius * Math.cos(-base * t + d.basePeriod);\r\n      return getTranslateString(x, y);\r\n    };\r\n  };\r\n}\r\n\r\nexport function updateBasePeriod(d, newBasePeriod) {\r\n  d.basePeriod = newBasePeriod;\r\n}\r\n\r\nexport function makeTransitionNodeData(length) {\r\n  var temp = [\r\n    {\r\n      href:\r\n        \"https://cdn.pixabay.com/photo/2016/03/21/23/25/link-1271843_960_720.png\"\r\n    },\r\n    {\r\n      href: \"https://image.flaticon.com/icons/png/512/84/84380.png\"\r\n    }\r\n  ];\r\n  if (length === 4) {\r\n    console.log(\"uhh\");\r\n    temp.push(\r\n      {\r\n        href:\r\n          \"https://cdn1.iconfinder.com/data/icons/social-17/48/photos2-512.png\"\r\n      },\r\n      {\r\n        href: \"https://www.svgimages.com/svg-image/s6/t-alphabet-256x256.png\"\r\n      }\r\n    );\r\n  }\r\n\r\n  console.log(\"to return\", { temp });\r\n  return temp;\r\n}\r\n\r\nexport function transformCloseCurrentNode(d) {\r\n  return getTranslateString(globalRadius, 0);\r\n}\r\n\r\nexport function transformOpenCurrentNode(d) {\r\n  return getTranslateString(globalRadius + 175, 0);\r\n}\r\n\r\nexport function updateLastClicked(\r\n  app,\r\n  newClickedId,\r\n  newClickedNode,\r\n  newClickedData\r\n) {\r\n  app.lastClickedId = newClickedId;\r\n  app.lastClickedNode = newClickedNode;\r\n  app.lastClickedD = newClickedData;\r\n}\r\n","import * as d3 from \"d3\";\r\nimport {\r\n  transformCloseCurrentNode,\r\n  getTranslateString,\r\n  updateBasePeriod,\r\n  translateToDefault,\r\n  translateFromCenterToDefault\r\n} from \"./TransitionNodesHelperFunctions.js\";\r\n\r\nimport { onTransitionNodeClick } from \"./mouseFunctions.js\";\r\n\r\nexport function closeForm(app) {\r\n  console.log(app)\r\n  d3.select(\"#currentInput\")\r\n    .transition()\r\n    .duration(500)\r\n    .style(\"width\", \"0px\")\r\n    .style(\"padding-left\", \"0px\")\r\n    .style(\"padding-right\", \"0px\")\r\n    .on(\"end\", function() {\r\n      d3.select(this).remove();\r\n      app.isFormShowing = false;\r\n    });\r\n}\r\n\r\nexport function closeNode(app) {\r\n  if (app.lastClickedNode)\r\n    app.lastClickedNode\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"transform\", d => transformCloseCurrentNode(d));\r\n}\r\n\r\nexport function isTransitionCircleShowing(app) {\r\n  return !app.optionG.select(\"circle\").empty();\r\n}\r\n\r\nexport function stretchOutOptionGroupForm(app) {\r\n  app.optionGroupG\r\n    .transition()\r\n    .duration(600)\r\n    .ease(d3.easeBounce)\r\n    .attr(\"transform\", getTranslateString(100, 0));\r\n  app.optionGroupConnector\r\n    .transition()\r\n    .duration(600)\r\n    .ease(d3.easeBounce)\r\n    .attr(\"width\", 100);\r\n}\r\n\r\nexport function stretchCloseOptionGroupForm(app, endFunction = null) {\r\n  app.optionGroupG\r\n    .transition()\r\n    .duration(600)\r\n    .attr(\"transform\", getTranslateString(0, 0));\r\n  app.optionGroupConnector\r\n    .transition()\r\n    .duration(600)\r\n    .attr(\"width\", 0)\r\n    .on(\"end\", function() {\r\n      if (endFunction) {\r\n        endFunction(app);\r\n      }\r\n    });\r\n}\r\n\r\nexport function isOptionGroupFormVisible(app) {\r\n  return app.optionGroup.attr(\"visibility\") === \"visible\";\r\n}\r\n\r\nexport function invertOptionGroupVisibility(app) {\r\n  app.optionGroupConnector.attr(\r\n    \"visibility\",\r\n    isOptionGroupFormVisible(app) ? \"hidden\" : \"visible\"\r\n  );\r\n\r\n  app.optionGroup\r\n    .attr(\"visibility\", isOptionGroupFormVisible(app) ? \"hidden\" : \"visible\")\r\n    .attr(\"transform\", function(d) {\r\n      if (app.selectedNode && app.selectedNode.type === \"circle\") {\r\n        return getTranslateString(\r\n          app.selectedNode.x + 115,\r\n          app.selectedNode.y - 5\r\n        );\r\n      } else if (app.selectedNode && app.selectedNode.type === \"text\") {\r\n        return getTranslateString(\r\n          app.selectedNode.x + app.selectedNode.width + 10,\r\n          app.selectedNode.y - 5 + app.selectedNode.height / 2 - 25\r\n        );\r\n      }\r\n    });\r\n}\r\n","import * as d3 from \"d3\";\r\nimport {\r\n  getTranslateString,\r\n  translateToDefault,\r\n  translateFromCenterToDefault,\r\n  updateBasePeriod\r\n} from \"./TransitionNodesHelperFunctions.js\";\r\n\r\nimport {onTransitionNodeClick} from \"./mouseFunctions.js\"\r\n\r\nexport function updateStroke(app) {\r\n  console.log(\"do we have selectedNode?\", app.selectedNode);\r\n  var allNodeSelection = d3.selectAll(\".node\");\r\n  console.log(\"our selection\", allNodeSelection);\r\n  if (!app.selectedNode) {\r\n    // if no selected node,\r\n    allNodeSelection.each(function(d) {\r\n      d3.select(this).attr(\"stroke\",d.strokeColor);\r\n    });\r\n    return;\r\n  }\r\n\r\n  allNodeSelection.each(function(eachNodeData) {\r\n    console.log(eachNodeData.id === app.selectedNode.id, eachNodeData);\r\n    if (eachNodeData.id === app.selectedNode.id) {\r\n      var prevStyle = d3.select(this).attr(\"stroke\");\r\n      console.log(prevStyle);\r\n      if (prevStyle === \"url(#svgGradient)\") {\r\n        d3.select(this).attr(\"stroke\", eachNodeData.strokeColor);\r\n      } else {\r\n        d3.select(this).attr(\"stroke\", \"url(#svgGradient)\");\r\n      }\r\n    } else {\r\n      d3.select(this).attr(\"stroke\", eachNodeData.strokeColor);\r\n    }\r\n  });\r\n}\r\n\r\nexport function restartOptionG(app) {\r\n  var selectedNode = app.selectedNode;\r\n\r\n  if (app.selectedNode) {\r\n    app.optionG.append(\"foreignObject\");\r\n    app.transitionGs = app.optionG.selectAll(\"g\").data(app.transitionGDataset);\r\n\r\n    if (app.shouldTransitionGsAnimate === true) {\r\n      app.transitionGs.attr(\"transform\", function() {\r\n        return getTranslateString(0, 0);\r\n      });\r\n\r\n      app.transitionGs\r\n        .transition()\r\n        .duration(app.animationAlreadyCompleted ? 0 : 500)\r\n        .delay(0)\r\n        .attrTween(\"transform\", translateToDefault())\r\n        .on(\"end\", function(d, i, list) {\r\n          app.animationAlreadyCompleted = false;\r\n          app.isTransitioning = false;\r\n          var periodSpaceBetween = Math.PI / (list.length + 1);\r\n          var goTo = Math.PI / 2 - periodSpaceBetween * (i + 1);\r\n          updateBasePeriod(d, goTo);\r\n        });\r\n      app.transitionGs.exit().remove();\r\n      app.transitionGsEnter = app.transitionGs\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"class\", \"permanent\");\r\n\r\n      app.transitionGsEnter.attr(\"transform\", d => {\r\n        return getTranslateString(0, 0);\r\n      });\r\n\r\n      app.transitionGs = app.transitionGsEnter.merge(app.transitionGs);\r\n      app.transitionGs.on(\"click\", function(d, i, list) {\r\n        onTransitionNodeClick(d, i, list, this, app);\r\n      });\r\n    }\r\n\r\n    var transitionCircles = app.transitionGsEnter\r\n      .append(\"circle\")\r\n      .attrs({\r\n        r: 0,\r\n        fill: \"white\",\r\n        class: \"permanent\"\r\n      })\r\n      .style(\"stroke\", \"black\");\r\n\r\n    var transitionImages = app.transitionGsEnter.append(\"svg:image\").attrs({\r\n      href: d => d.href,\r\n      width: 0,\r\n      height: 0,\r\n      x: 0,\r\n      y: 0,\r\n      class: \"permanent\"\r\n    });\r\n\r\n    app.transitionGsEnter\r\n      .transition()\r\n      .duration(app.shouldTransitionGsEnterAnimation ? 500 : 0)\r\n      .attr(\"transform\", translateFromCenterToDefault())\r\n      .on(\"end\", function() {\r\n        app.isTransitioning = false;\r\n      })\r\n      .on(\"end\", function(d, i, list) {\r\n        var periodSpaceBetween = Math.PI / (list.length + 1);\r\n        var goTo = Math.PI / 2 - periodSpaceBetween * (i + 1);\r\n        updateBasePeriod(d, goTo);\r\n      });\r\n\r\n    app.transitionGsEnter\r\n      .selectAll(\"circle\")\r\n      .transition()\r\n      .duration(app.shouldTransitionGsEnterAnimation ? 500 : 0)\r\n      .attr(\"r\", 10)\r\n      .on(\"start\", function() {})\r\n      .on(\"end\", function() {\r\n        app.isTransitioning = false;\r\n      });\r\n\r\n    transitionImages\r\n      .transition()\r\n      .duration(app.shouldTransitionGsEnterAnimation ? 500 : 0)\r\n      .attrs({\r\n        width: 16,\r\n        height: 16,\r\n        x: -8,\r\n        y: -8\r\n      });\r\n  }\r\n}\r\n","import * as d3 from \"d3\";\r\nimport {\r\n  getTranslateString,\r\n  decodeTranslateString,\r\n  pureDecodeTranslate,\r\n  makeTransitionNodeData,\r\n  translateBackLastMoved,\r\n  translateFromCenterToDefault,\r\n  translateToDefault,\r\n  transformOpenCurrentNode,\r\n  updateBasePeriod,\r\n  updateLastClicked\r\n} from \"./TransitionNodesHelperFunctions.js\";\r\nimport { closeForm, closeNode } from \"./transitionFormFunctions.js\";\r\nimport { restartOptionG, updateStroke } from \"./updateFunctions.js\";\r\nimport { textArrToHTML } from \"./StringHelperFunctions.js\";\r\n\r\nexport function nodeMouseDown(d, i, DOMEle, app) {\r\n  console.log(\"node mouse downed\");\r\n  if (app.optionGroup)\r\n    app.optionGroup\r\n      .transition()\r\n      .duration(300)\r\n      .attr(\"opacity\", 0)\r\n      .on(\"end\", function() {\r\n        app.optionGroup.attr(\"visibility\", \"hidden\");\r\n      });\r\n  app.mousedownNode = d;\r\n}\r\n\r\nexport function nodeMouseUp(d, i, DOMEle, app) {\r\n  console.log(\"mouse down node in mouseup\", app.mousedownNode, app);\r\n  console.log(\"node mouse up\");\r\n  if (app.state.preview) {\r\n    //setError(\"Can't edit during Preview Mode\", 2000);\r\n    return;\r\n  }\r\n  var mousedownNode = app.mousedownNode,\r\n    selectedNode = app.selectedNode;\r\n\r\n  app.forceUpdate();\r\n\r\n  if (!app.mousedownNode) return;\r\n\r\n  // needed by FF\r\n  app.dragLine.classed(\"hidden\", true).style(\"marker-end\", \"\");\r\n\r\n  app.mouseupNode = d;\r\n  if (app.mouseupNode === app.mousedownNode) {\r\n    app.mousedownNode = null;\r\n    app.selectedNode = null;\r\n    app.forceUpdate();\r\n    return;\r\n  }\r\n\r\n  const source = app.mousedownNode;\r\n  const target = app.mouseupNode;\r\n  var link = {\r\n    source: source,\r\n    target: target,\r\n    linkDistance: 250,\r\n    index: app.links.length\r\n  };\r\n  app.links.push(link);\r\n\r\n  var command = {\r\n    action: { type: \"addLink\", link: link },\r\n    inverse: { type: \"delLink\", link: link }\r\n  };\r\n\r\n  //app.storeToHistory(command);\r\n\r\n  //app.mousedownNode = null;\r\n\r\n  app.restart();\r\n}\r\n\r\nexport function circleNodeClick(d, iClicked, DOMEle, app) {\r\n  if (app.isTransitioning) {\r\n    return;\r\n  }\r\n\r\n  if (app.state.preview) {\r\n    if (app.selectedNode && d.id === app.selectedNode.id) {\r\n      app.selectedNode = null;\r\n      app.restart();\r\n      app.forceUpdate();\r\n    } else {\r\n      app.selectedNode = d;\r\n      app.restart();\r\n      app.forceUpdate();\r\n    }\r\n    return;\r\n  }\r\n  var prevLocation = app.optionG.attr(\"transform\");\r\n  app.selectedNode = d;\r\n  app.restart();\r\n  app.selectedLink = null;\r\n  var selectedNode = app.selectedNode;\r\n  app.forceUpdate();\r\n\r\n  if (sameCircleClicked() && isTransitionCircleShowing()) {\r\n    if (app.lastClickedNode) {\r\n      console.log({ app });\r\n      closeForm(app);\r\n      closeNode(app);\r\n    }\r\n    app.optionG\r\n      .selectAll(\"g\")\r\n      .transition()\r\n      .duration(500)\r\n      .delay(app.isFormShowing ? 500 : 0)\r\n      .attr(\r\n        \"transform\",\r\n        getTranslateString(\r\n          -(app.selectedNode.x - app.lastClickedCircleD.x),\r\n          -(app.selectedNode.y - app.lastClickedCircleD.y)\r\n        )\r\n      )\r\n      .on(\"end\", function() {\r\n        app.optionG.selectAll(\"g\").remove();\r\n        app.lastClickedCircle = iClicked;\r\n        app.lastClickedCircleD = d;\r\n        app.isFormShowing = false;\r\n        app.selectedNode = null;\r\n        app.forceUpdate();\r\n        app.restart();\r\n      });\r\n\r\n    app.optionG\r\n      .selectAll(\"circle.permanent\")\r\n      .transition()\r\n      .duration(500)\r\n      .delay(app.isFormShowing ? 500 : 0)\r\n      .attr(\"r\", 0);\r\n    app.optionG\r\n      .selectAll(\"image.permanent\")\r\n      .transition()\r\n      .duration(500)\r\n      .delay(app.isFormShowing ? 500 : 0)\r\n      .attr(\"width\", 0)\r\n      .attr(\"height\", 0)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", 0);\r\n\r\n    return;\r\n  }\r\n\r\n  var duration = 500;\r\n\r\n  // if not same circle click, but the transition circles were showing: hide old and show new\r\n  if (isTransitionCircleShowing()) {\r\n    if (app.lastClickedNode && app.isFormShowing) {\r\n      app.optionG.select(\"foreignObject\").attr(\"transform\", function() {\r\n        var decoded = decodeTranslateString(\r\n          prevLocation,\r\n          getTranslateString(0, 0),\r\n          app.selectedNode\r\n        );\r\n        return getTranslateString(decoded.x, decoded.y);\r\n      });\r\n      d3.select(\"#currentInput\")\r\n        .transition()\r\n        .duration(duration)\r\n        .style(\"width\", \"0px\")\r\n        .style(\"padding-left\", \"0px\")\r\n        .style(\"padding-right\", \"0px\")\r\n        .on(\"end\", function() {\r\n          d3.select(this).remove();\r\n          app.optionG\r\n            .select(\"foreignObject\")\r\n            .attr(\"transform\", getTranslateString(0, 0));\r\n          app.isFormShowing = false;\r\n        });\r\n\r\n      var prevTransitionCircles = app.optionG.selectAll(\"g\");\r\n      prevTransitionCircles.each(function() {\r\n        var bruh = decodeTranslateString(\r\n          prevLocation,\r\n          d3.select(this).attr(\"transform\"),\r\n          app.selectedNode\r\n        );\r\n\r\n        d3.select(this).attr(\"transform\", getTranslateString(bruh.x, bruh.y));\r\n\r\n        app.alreadyDid = true;\r\n      });\r\n      app.lastClickedNode\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"transform\", d => {\r\n          var current = app.lastClickedNode.attr(\"transform\");\r\n          var decoded = pureDecodeTranslate(current);\r\n          return getTranslateString(decoded.x - 175, decoded.y);\r\n        })\r\n        .on(\"end\", function() {\r\n          //d3.select(this).attr(\"transform\", getTranslateString(0, 0));\r\n        });\r\n    }\r\n\r\n    var prevTransitionCircles = app.optionG.selectAll(\"g\");\r\n    prevTransitionCircles\r\n      .transition()\r\n      .duration(duration)\r\n      .delay(app.isFormShowing ? duration : 0)\r\n      .on(\"start\", function(d2, i) {\r\n        if (!app.alreadyDid) {\r\n          var bruh = decodeTranslateString(\r\n            prevLocation,\r\n            d3.select(this).attr(\"transform\"),\r\n            app.selectedNode\r\n          );\r\n\r\n          d3.select(this).attr(\"transform\", getTranslateString(bruh.x, bruh.y));\r\n        }\r\n\r\n        if (i === 0) {\r\n          app.isTransitioning = true;\r\n\r\n          var fakeNodesData = makeTransitionNodeData(2);\r\n          if (selectedNode.storedInfo.picture !== null) {\r\n            fakeNodesData = makeTransitionNodeData(4);\r\n          }\r\n\r\n          var newGs = app.optionG\r\n            .selectAll(\"g.temp\")\r\n            .data(fakeNodesData)\r\n            .enter()\r\n            .append(\"g\")\r\n            .attr(\"class\", \"temp\");\r\n\r\n          // set original transformation so don't start from (0, 0)\r\n          newGs.attr(\"transform\", getTranslateString(0, 0));\r\n\r\n          var transitionCircles = newGs\r\n            .append(\"circle\")\r\n            .attr(\"class\", \"temp\")\r\n            .attr(\"r\", 0)\r\n            .attr(\"fill\", \"white\")\r\n            .style(\"stroke\", \"black\");\r\n\r\n          var transitionImages = newGs\r\n            .append(\"svg:image\")\r\n            .attr(\"href\", d => d.href)\r\n            .attr(\"width\", 0)\r\n            .attr(\"height\", 0)\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .attr(\"class\", \"temp\");\r\n\r\n          // move fake nodes out\r\n          newGs\r\n            .transition()\r\n            .duration(duration)\r\n            .attr(\"transform\", translateFromCenterToDefault());\r\n\r\n          newGs\r\n            .selectAll(\"circle.temp\")\r\n            .transition()\r\n            .duration(duration)\r\n            .attr(\"r\", 10)\r\n            .on(\"start\", function() {\r\n              app.isTransitioning = true;\r\n            });\r\n\r\n          transitionImages\r\n            .transition()\r\n            .duration(duration)\r\n            .attr(\"width\", 16)\r\n            .attr(\"height\", 16)\r\n            .attr(\"x\", -8)\r\n            .attr(\"y\", -8);\r\n        }\r\n      })\r\n      .on(\"end\", function(d2, i) {\r\n        app.alreadyDid = false;\r\n        if (i == 0) {\r\n          app.lastClickedCircle = iClicked;\r\n          app.lastClickedCircleD = d;\r\n          // after old nodes closed to center and fake nodes came out:\r\n          // 1) remove fake nodes\r\n          // restart accordingly\r\n          app.isTransitioning = false;\r\n          app.optionG.selectAll(\"g.temp\").remove();\r\n          app.shouldTransitionGsAnimate = true;\r\n          app.animationAlreadyCompleted = true;\r\n          app.shouldTransitionGsEnterAnimation = false;\r\n\r\n          if (app.transitionGDataset.length === 2) {\r\n            if (selectedNode.storedInfo.picture === null) {\r\n            } else {\r\n              app.transitionGDataset.push({\r\n                href:\r\n                  \"https://cdn1.iconfinder.com/data/icons/social-17/48/photos2-512.png\"\r\n              });\r\n              app.transitionGDataset.push({\r\n                href:\r\n                 \"https://www.svgimages.com/svg-image/s6/t-alphabet-256x256.png\"\r\n              });\r\n            }\r\n          } else if (app.transitionGDataset.length === 4) {\r\n            if (selectedNode.storedInfo.picture === null) {\r\n              app.transitionGDataset.pop();\r\n              app.transitionGDataset.pop();\r\n            }\r\n          }\r\n\r\n          restartOptionG(app);\r\n          app.shouldTransitionGsEnterAnimation = true;\r\n          app.shouldTransitionGsAnimate = false;\r\n          app.animationAlreadyCompleted = false;\r\n        }\r\n      });\r\n\r\n    prevTransitionCircles\r\n      .selectAll(\"circle.permanent\")\r\n      .transition()\r\n      .duration(duration)\r\n      .delay(app.isFormShowing ? duration : 0)\r\n      .attr(\"r\", 0)\r\n      .on(\"end\", function() {\r\n        d3.select(this).attr(\"r\", 10);\r\n      });\r\n\r\n    prevTransitionCircles\r\n      .selectAll(\"image.permanent\")\r\n      .transition()\r\n      .duration(duration)\r\n      .delay(app.isFormShowing ? duration : 0)\r\n      .attr(\"width\", 0)\r\n      .attr(\"height\", 0)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", 0)\r\n      .on(\"end\", function() {\r\n        d3.select(this)\r\n          .attr(\"width\", 16)\r\n          .attr(\"height\", 16)\r\n          .attr(\"x\", -8)\r\n          .attr(\"y\", -8);\r\n      });\r\n\r\n    app.isFormShowing = false;\r\n  } else {\r\n    app.shouldTransitionGsAnimate = true;\r\n    app.shouldTransitionGsEnterAnimation = true;\r\n\r\n    if (d.storedInfo.picture === null) {\r\n      app.transitionGDataset = makeTransitionNodeData(2);\r\n    } else {\r\n      app.transitionGDataset = makeTransitionNodeData(4);\r\n    }\r\n    app.lastClickedCircle = iClicked;\r\n    app.lastClickedCircleD = d;\r\n    restartOptionG(app);\r\n  }\r\n\r\n  function sameCircleClicked() {\r\n    return app.lastClickedCircle === iClicked;\r\n  }\r\n\r\n  function isTransitionCircleShowing() {\r\n    return !app.optionG.select(\"circle\").empty();\r\n  }\r\n}\r\n\r\nexport function onTransitionNodeClick(dClicked, iClicked, list, DOMEle, app) {\r\n  var globalRadius = 35;\r\n  var clickedNode = d3.select(DOMEle);\r\n  console.log({ clickedNode });\r\n  var selectedNode = app.selectedNode;\r\n  var base = dClicked.basePeriod;\r\n  app.forceUpdate();\r\n\r\n  if (app.isFormShowing === true) {\r\n    closeForm(app);\r\n\r\n    app.lastClickedNode\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"transform\", d => getTranslateString(globalRadius, 0))\r\n\r\n      .on(\"end\", function(d, i) {\r\n        // if clicked on URL node again when no picture node\r\n        if (list.length < 4 && app.lastClickedId === 0) {\r\n          if (iClicked === 0) {\r\n            selectedNode.storedInfo.picture = \"\";\r\n            app.transitionGDataset.push({\r\n              href:\r\n                \"https://cdn1.iconfinder.com/data/icons/social-17/48/photos2-512.png\"\r\n            });\r\n            app.transitionGDataset.push({\r\n              href:\r\n               \"https://www.svgimages.com/svg-image/s6/t-alphabet-256x256.png\"\r\n            });\r\n            app.shouldTransitionGsAnimate = true;\r\n            app.shouldTransitionGsEnterAnimation = true;\r\n            restartOptionG(app);\r\n            return;\r\n          } else if (iClicked !== 0) {\r\n            app.transitionGDataset.push({\r\n              href:\r\n                \"https://cdn1.iconfinder.com/data/icons/social-17/48/photos2-512.png\"\r\n            });\r\n            app.transitionGDataset.push({\r\n              href:\r\n               \"https://www.svgimages.com/svg-image/s6/t-alphabet-256x256.png\"\r\n            });\r\n\r\n            app.transitionGs = app.optionG\r\n              .selectAll(\"g\")\r\n              .data(app.transitionGDataset);\r\n            selectedNode.storedInfo.picture = \"\";\r\n            app.shouldTransitionGsAnimate = false;\r\n            app.transitionGsEnter = app.transitionGs\r\n              .enter()\r\n              .append(\"g\")\r\n              .attr(\"class\", \"permanent\");\r\n            app.transitionGsEnter.attr(\"transform\", d => {\r\n              return getTranslateString(\r\n                selectedNode.x + 75,\r\n                selectedNode.y + 20\r\n              );\r\n            });\r\n\r\n            app.transitionGsEnter\r\n              .transition()\r\n              .duration(500)\r\n              .attr(\"transform\", translateFromCenterToDefault())\r\n              .on(\"end\", function(d, i, list) {\r\n                var periodSpaceBetween = Math.PI / (list.length + 1);\r\n                var goTo = Math.PI / 2 - periodSpaceBetween * (i + 1);\r\n                updateBasePeriod(d, goTo);\r\n              });\r\n            app.transitionGs\r\n              .transition()\r\n              .duration(500)\r\n              .attrTween(\"transform\", translateToDefault())\r\n              .on(\"end\", function(d, i, list) {\r\n                var periodSpaceBetween = Math.PI / (list.length + 1);\r\n                var goTo = Math.PI / 2 - periodSpaceBetween * (i + 1);\r\n                updateBasePeriod(d, goTo);\r\n                if (iClicked !== app.lastClickedId && i == 0) {\r\n                  openForm(d, iClicked);\r\n                }\r\n                if (i === list.length - 2) {\r\n                  updateLastClicked(app, iClicked, clickedNode, dClicked);\r\n                }\r\n              });\r\n            restartOptionG(app);\r\n            app.transitionGs = app.transitionGs\r\n              .merge(app.transitionGsEnter)\r\n              .on(\"click\", function(d, i, list) {\r\n                onTransitionNodeClick(d, i, list, this, app);\r\n              });\r\n\r\n            return;\r\n          }\r\n        }\r\n        // clicked on URL node with picture node\r\n        else if (\r\n          list.length === 4 ||\r\n          (list.length < 4 && app.lastClickedId !== 0)\r\n        ) {\r\n          if (iClicked === app.lastClickedId) {\r\n            app.transitionGs\r\n              .transition()\r\n              .duration(500)\r\n              .attrTween(\"transform\", translateToDefault())\r\n              .on(\"end\", function(d, i) {\r\n                var periodSpaceBetween = Math.PI / (list.length + 1);\r\n                updateBasePeriod(d, Math.PI / 2 - periodSpaceBetween * (i + 1));\r\n                updateLastClicked(app, iClicked, clickedNode, dClicked);\r\n              });\r\n            return;\r\n\r\n            //  not the same clicked, and,\r\n          } else if (iClicked !== app.lastClickedId) {\r\n            app.transitionGs\r\n              .transition()\r\n              .duration(500)\r\n              .attrTween(\"transform\", translateBackLastMoved(base))\r\n              .on(\"end\", function(d, i) {\r\n                updateBasePeriod(d, d.basePeriod - base);\r\n                if (i === iClicked) {\r\n                  openForm(d, iClicked);\r\n                }\r\n                updateLastClicked(app, iClicked, clickedNode, dClicked);\r\n              });\r\n\r\n            return;\r\n          }\r\n        }\r\n        // clicking on URL node with other node's form open\r\n      });\r\n    return;\r\n  }\r\n  app.isFormShowing = true;\r\n  app.optionG\r\n    .select(\"foreignObject\")\r\n    .lower()\r\n    .attrs({\r\n      width: 300,\r\n      height: 100,\r\n      x: globalRadius\r\n    });\r\n\r\n  app.transitionGs\r\n    .merge(app.transitionGsEnter)\r\n    .transition()\r\n    .duration(shouldAnimate() ? 500 : 0)\r\n    .attrTween(\"transform\", translateBackLastMoved(base))\r\n    .on(\"end\", function(d, i) {\r\n      updateBasePeriod(d, d.basePeriod - base);\r\n      if (i === iClicked) {\r\n        openForm(d, iClicked);\r\n      }\r\n      updateLastClicked(app, iClicked, clickedNode, dClicked);\r\n    });\r\n\r\n  function shouldAnimate() {\r\n    if (iClicked === 1 && list.length === 4) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function openForm(d, i) {\r\n    if (i == 1) {\r\n      app.transitionForm = app.optionG\r\n        .select(\"foreignObject\")\r\n        .attrs({\r\n          y: i === 1 ? -17.5 : -12.5\r\n        })\r\n        .append(\"xhtml:textarea\");\r\n    } else {\r\n      app.transitionForm = app.optionG\r\n        .select(\"foreignObject\")\r\n        .attrs({\r\n          y: i === 1 ? -17.5 : -12.5\r\n        })\r\n        .append(\"xhtml:input\");\r\n    }\r\n    app.transitionForm\r\n      .style(\"width\", \"0px\")\r\n      .attr(\"id\", \"currentInput\")\r\n      .attr(\"maxlength\", i == 1 ? 100 : 50)\r\n      .attr(\"spellcheck\", false)\r\n      .attr(\"placeholder\", function() {\r\n        switch (i) {\r\n          case 0:\r\n            return \"Link Resource URL here!\";\r\n          case 1:\r\n            return \"Talk about this resource!\";\r\n          case 2:\r\n            return \"Custom Node image URL\";\r\n          case 3:\r\n            return \"Custom title\";\r\n          default:\r\n        }\r\n      })\r\n      .attr(\"value\", function() {\r\n        switch (i) {\r\n          case 0:\r\n            return selectedNode.storedInfo.url;\r\n          case 1:\r\n            d3.select(this).node().innerText = selectedNode.storedInfo.info;\r\n            break;\r\n          case 2:\r\n            if (\r\n              selectedNode.storedInfo.picture === selectedNode.storedInfo.url\r\n            ) {\r\n              return null;\r\n            }\r\n            return selectedNode.storedInfo.picture;\r\n          case 3:\r\n            return selectedNode.storedInfo.title;\r\n          default:\r\n        }\r\n      })\r\n      .style(\"padding-right\", \"0px\")\r\n      .on(\"blur\", function() {\r\n        switch (i) {\r\n          case 0:\r\n            var newURL = d3.select(\"#currentInput\")._groups[0][0].value;\r\n\r\n            if (newURL === selectedNode.storedInfo.url) return;\r\n\r\n            selectedNode.storedInfo.url = newURL;\r\n            selectedNode.storedInfo.picture = newURL;\r\n            console.log(\"oh,\", { app });\r\n\r\n            console.log(\"circle groups\", app.circleGroups);\r\n            app.circleGroups.selectAll(\".nodeImage\").each(function(d) {\r\n              if (d !== selectedNode) return;\r\n\r\n              var pictureRef = this;\r\n              if (\r\n                !selectedNode.storedInfo.picture ||\r\n                selectedNode.storedInfo.picture === \"\"\r\n              ) {\r\n                // if there's nothing appended, href null\r\n                d3.select(this).attr(\"href\", null);\r\n              } else {\r\n                // set src\r\n\r\n                var img = new Image();\r\n                img.onload = function() {\r\n                  d3.select(pictureRef).attr(\"href\", img.src);\r\n                };\r\n\r\n                img.onerror = function() {};\r\n                img.src =\r\n                  \"https://forked-besticon.herokuapp.com/icon?url=\" +\r\n                  selectedNode.storedInfo.picture +\r\n                  \"&size=80..120..200\";\r\n\r\n                d3.select(this).attr(\r\n                  \"href\",\r\n                  \"https://media0.giphy.com/media/3o7bu3XilJ5BOiSGic/giphy.gif\"\r\n                );\r\n              }\r\n            });\r\n\r\n            break;\r\n          case 1:\r\n            selectedNode.storedInfo.info = d3.select(\r\n              \"#currentInput\"\r\n            )._groups[0][0].value;\r\n            break;\r\n          case 2:\r\n            var newValue = d3.select(\"#currentInput\")._groups[0][0].value;\r\n\r\n            if (newValue === selectedNode.storedInfo.picture) {\r\n              break;\r\n            }\r\n\r\n            selectedNode.storedInfo.picture = newValue;\r\n            app.circleGroups.selectAll(\".nodeImage\").each(function(d) {\r\n              if (d !== selectedNode) return;\r\n\r\n              var pictureRef = this;\r\n              if (\r\n                !selectedNode.storedInfo.picture ||\r\n                selectedNode.storedInfo.picture === \"\"\r\n              ) {\r\n                // if there's nothing appended, href null\r\n                d3.select(this).attr(\"href\", null);\r\n              } else {\r\n                // set src\r\n                var img = new Image();\r\n                img.onload = function() {\r\n                  d3.select(pictureRef).attr(\"href\", img.src);\r\n                };\r\n                img.onerror = function() {\r\n                  // alert(\"choose diff photo! Make sure to insert an image address as opposed to the link of a website\")\r\n                  d3.select(pictureRef).attr(\"href\", null);\r\n                };\r\n                img.src = selectedNode.storedInfo.picture;\r\n\r\n                d3.select(this).attr(\r\n                  \"href\",\r\n                  \"https://media0.giphy.com/media/3o7bu3XilJ5BOiSGic/giphy.gif\"\r\n                );\r\n              }\r\n            });\r\n            break;\r\n          case 3:\r\n            selectedNode.storedInfo.title = d3.select(\r\n              \"#currentInput\"\r\n            )._groups[0][0].value;\r\n          default:\r\n        }\r\n      });\r\n\r\n    app.transitionForm\r\n      .transition()\r\n      .duration(500)\r\n      .style(\"width\", \"175px\")\r\n      .style(\"padding-right\", \"15px\")\r\n      .style(\"padding-left\", \"5px\")\r\n      .on(\"end\", function() {\r\n        d3.select(this)\r\n          .node()\r\n          .focus();\r\n      });\r\n\r\n    clickedNode\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"transform\", d => transformOpenCurrentNode(d));\r\n\r\n    app.isFormShowing = true;\r\n  }\r\n}\r\n\r\nexport function textNodeClick(d, i, DOMEle, app) {\r\n  var prevLocation = app.optionG.attr(\"transform\");\r\n  var duration = 500;\r\n  if (app.selectedNode && app.selectedNode.type === \"circle\") {\r\n    app.lastClickedCircle = null;\r\n    // if we were selecting circles, close them\r\n    console.log({ app });\r\n    closeForm(app);\r\n    closeNode(app);\r\n    app.optionG\r\n      .selectAll(\"circle.permanent\")\r\n      .transition()\r\n      .duration(500)\r\n      .delay(app.isFormShowing ? 500 : 0)\r\n      .attr(\"r\", 0);\r\n    app.optionG\r\n      .selectAll(\"image.permanent\")\r\n      .transition()\r\n      .duration(500)\r\n      .delay(app.isFormShowing ? 500 : 0)\r\n      .attr(\"width\", 0)\r\n      .attr(\"height\", 0)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", 0);\r\n  }\r\n  if (d === app.selectedNode) {\r\n    app.selectedNode = null;\r\n    app.forceUpdate();\r\n    app.restart();\r\n  } else {\r\n    app.selectedNode = d;\r\n    app.forceUpdate();\r\n    app.restart();\r\n  }\r\n}\r\n\r\nexport function textNodeDblClick(rectData, i, DOMEle, app) {\r\n  updateStroke(app);\r\n  app.selectedNode = rectData;\r\n  app.forceUpdate();\r\n  app.mousedownNode = null;\r\n\r\n  if (app.state.preview) {\r\n    app.setError(\"Can't edit during preview mode\", 2000);\r\n    return;\r\n  }\r\n  app.isTyping = true;\r\n  app.svg.on(\".zoom\", null);\r\n  app.startText = rectData.text;\r\n\r\n  app.nodes.map(eachNode => {\r\n    if (eachNode.id === rectData.id) {\r\n      eachNode.opacity = 0;\r\n      app.restart();\r\n    }\r\n  });\r\n\r\n  app.textInputCircle = rectData;\r\n\r\n  app.textBox = app.textBox\r\n    .attr(\"x\", rectData.x)\r\n    .attr(\"y\", rectData.y)\r\n    .attr(\"width\", window.innerWidth / 2)\r\n    .attr(\"height\", window.innerHeight);\r\n  var paragraph = app.textBox\r\n    .append(\"xhtml:p\")\r\n    .html(() => textArrToHTML(rectData.text))\r\n    .attr(\"contentEditable\", \"true\")\r\n    .attr(\"spellcheck\", false)\r\n    .attr(\"width\", window.innerWidth / 2)\r\n    .style(\"width\", window.innerWidth / 2)\r\n    .style(\"outline\", 0)\r\n    .style(\"font\", rectData.textSize + \"px \" + rectData.textFont)\r\n    .style(\"line-height\", rectData.textSize + \"px\")\r\n    .style(\"display\", \"block\");\r\n\r\n  paragraph\r\n    .on(\"click\", () => {\r\n      console.log(\"cliekd\");\r\n    })\r\n    .on(\"blur\", function() {\r\n      var zoom = d3.zoom().on(\"zoom\", function() {\r\n        app.container.attr(\"transform\", d3.event.transform);\r\n      });\r\n\r\n      app.svg.call(zoom).on(\"dblclick.zoom\", null);\r\n\r\n      d3.selectAll(\"foreignObject\").remove();\r\n      app.textBox = app.container.append(\"foreignObject\");\r\n      app.resourceForm = app.container\r\n        .append(\"foreignObject\")\r\n        .attr(\"id\", \"resourceForm\");\r\n      app.nodes.map(eachNode => {\r\n        if (eachNode.id === app.textInputCircle.id) {\r\n          eachNode.opacity = 1;\r\n          app.restart();\r\n        }\r\n      });\r\n\r\n      //TODO: if text isn't the same or the node is brand new, store to history\r\n      //on add new node, notNewNode is false\r\n      //on dblclick, blur, notNewNode is true\r\n      if (app.startText !== rectData.text) {\r\n        app.nodeToChange = rectData;\r\n        var command = {\r\n          action: {\r\n            type: \"modifyText\",\r\n            node: app.nodeToChange,\r\n            text: rectData.text\r\n          },\r\n          inverse: {\r\n            type: \"modifyText\",\r\n            node: app.nodeToChange,\r\n            text: app.startText\r\n          }\r\n        };\r\n\r\n        app.storeToHistory(command);\r\n      }\r\n\r\n      app.startText = null;\r\n      app.nodeToChange = null;\r\n      app.isTyping = false;\r\n      app.textInputCircle = null;\r\n    })\r\n    .on(\"keydown\", function() {\r\n      if (d3.event.keyCode === 13 && !d3.event.shiftKey) {\r\n        d3.event.preventDefault();\r\n      }\r\n    })\r\n    .on(\"keyup\", function() {\r\n      if (d3.event.keyCode === 13 && !d3.event.shiftKey) {\r\n        this.blur();\r\n      } else {\r\n        var node = d3.select(this).node();\r\n        // note, d.text is referring to the d in dblclick, d in g, d in text, from app.nodes\r\n        var nodeHTML = d3.select(this).node().innerHTML;\r\n\r\n        nodeHTML = nodeHTML.slice(3, nodeHTML.length - 4);\r\n\r\n        if (\r\n          nodeHTML.substring(nodeHTML.length - 4, nodeHTML.length) === \"<br>\"\r\n        ) {\r\n          nodeHTML = nodeHTML.slice(0, nodeHTML.length - 4);\r\n        }\r\n\r\n        var textArr = nodeHTML.split(\"<br>\");\r\n        rectData.text = textArr;\r\n\r\n        app.restart();\r\n      }\r\n    });\r\n\r\n  paragraph.node().focus();\r\n}\r\n","import * as d3 from \"d3\";\r\nimport { getTranslateString } from \"./TransitionNodesHelperFunctions.js\";\r\nimport {\r\n  isOptionGroupFormVisible,\r\n  stretchCloseOptionGroupForm,\r\n  invertOptionGroupVisibility,\r\n  stretchOutOptionGroupForm\r\n} from \"./transitionFormFunctions.js\";\r\n\r\nexport function windowClick(DOMEle, app) {\r\n  //WHY IS CLICK() TRIGGERING FOR ONLY FOR CIRCULAR NODES, DEBUG?\r\n  var mousedownNode = app.mousedownNode,\r\n    selectedNode = app.selectedNode;\r\n\r\n  app.forceUpdate();\r\n\r\n  if (app.inConnectMode) {\r\n    app.optionGroup\r\n      .transition()\r\n      .duration(300)\r\n      .attr(\"opacity\", 0)\r\n      .on(\"end\", function() {\r\n        app.optionGroup.attr(\"visibility\", \"hidden\");\r\n        app.optionGroupConnector.attr(\"visibility\", \"hidden\");\r\n        app.optionGroupG.attr(\"transform\", getTranslateString(0, 0));\r\n        app.optionGroupConnector.attr(\"width\", 0);\r\n      });\r\n  } else {\r\n    if (app.optionGroup)\r\n      app.optionGroup\r\n        .transition()\r\n        .duration(300)\r\n        .attr(\"opacity\", 0)\r\n        .on(\"end\", function() {\r\n          app.optionGroup.attr(\"visibility\", \"hidden\");\r\n          app.optionGroupConnector.attr(\"visibility\", \"hidden\");\r\n        });\r\n  }\r\n\r\n  app.inConnectMode = false;\r\n\r\n  //    optionGroupConnector.attr(\"visibility\", \"hidden\");\r\n  console.log(\"mousedown node\", app.mousedownNode);\r\n  //triggers if there is no mouse down node\r\n  if (d3.event.ctrlKey && !app.mousedownNode) {\r\n    if (app.state.preview) {\r\n      //setError(\"Can't Edit during Preview Mode\", 2000);\r\n      return;\r\n    }\r\n    //TODO: run a function app updates circles & rectangles to their appropriate colors\r\n\r\n    var point = d3.mouse(DOMEle);\r\n    var transform = d3.zoomTransform(app.container.node());\r\n    app.point = transform.invert(point);\r\n    app.optionGroupConnector.attr(\"visibility\", \"hidden\");\r\n    app.optionGroup\r\n      .attr(\"transform\", `translate(${app.point[0]}, ${app.point[1]})`)\r\n      .transition()\r\n      .duration(300)\r\n      .attr(\"opacity\", 1)\r\n      .on(\"start\", function() {\r\n        app.optionGroup.attr(\"visibility\", \"visible\");\r\n      });\r\n  }\r\n\r\n  app.mousedownNode = null;\r\n}\r\n\r\nexport function windowMouseDown() {}\r\n\r\nexport function windowMouseMove(DOMEle, app) {\r\n  app.mouseupNode = null;\r\n  if (!app.mousedownNode) return;\r\n  if (app.state.preview) {\r\n    //setError(\"Can't edit during Preview Mode\", 2000);\r\n    return;\r\n  }\r\n\r\n  // update drag line\r\n  if (d3.event.ctrlKey) {\r\n    app.dragLine\r\n      .classed(\"hidden\", false)\r\n      .style(\"marker-end\", \"url(#end-arrow)\");\r\n\r\n    var transform = d3.zoomTransform(app.container.node());\r\n    var xy1 = transform.invert(d3.mouse(app.svg.node()));\r\n    app.dragLine.attr(\r\n      \"d\",\r\n      `M${app.mousedownNode.x + app.mousedownNode.width / 2},${app.mousedownNode\r\n        .y +\r\n        app.mousedownNode.height / 2}L${xy1[0]},${xy1[1]}`\r\n    );\r\n  }\r\n}\r\n\r\nexport function windowMouseUp(DOMEle, app) {\r\n  console.log(\"window moused up\");\r\n  // hide drag line\r\n  if (app.mousedownNode)\r\n    app.dragLine.classed(\"hidden\", true).style(\"marker-end\", \"\");\r\n  if (app.mousedownNode && app.mouseupNode) {\r\n    if (app.mousedownNode.type === \"text\" || app.mouseupNode.type === \"text\") {\r\n      // use to need windowclick, now no need for some reason\r\n    }\r\n  }\r\n}\r\n\r\nexport function keydown(app) {\r\n  if (d3.event.ctrlKey && !app.isTyping) {\r\n    if (\r\n      (d3.event.keyCode === 17 && d3.event.shiftKey) ||\r\n      d3.event.keyCode === 89\r\n    ) {\r\n      if (app.state.preview) {\r\n        app.setError(\"Can't edit during Preview Mode\", 2000);\r\n        return;\r\n      }\r\n\r\n      app.redo();\r\n    } else if (d3.event.keyCode === 90) {\r\n      if (app.state.preview) {\r\n        app.setError(\"Can't edit during Preview Mode\", 2000);\r\n        return;\r\n      }\r\n\r\n      app.undo();\r\n    }\r\n  }\r\n\r\n  if (!app.selectedNode && !app.selectedLink) return;\r\n\r\n  switch (d3.event.keyCode) {\r\n    case 9: //tab\r\n      break;\r\n\r\n    case 46: // delete\r\n      if (app.state.preview) {\r\n        app.setError(\"Can't edit during Preview Mode\", 2000);\r\n        return;\r\n      }\r\n\r\n      if (app.selectedNode && !app.isTyping) {\r\n        console.log(\"TOOD: Close transition Gs\");\r\n\r\n        var node = app.selectedNode;\r\n        var links = splicelinksForNode(app, app.selectedNode);\r\n        app.nodes = app.nodes.filter(n => n.id !== app.selectedNode.id);\r\n\r\n        var command = {\r\n          action: { type: \"delNodeLink\", node: node, links: links },\r\n          inverse: { type: \"addNodeLink\", node: node, links: links }\r\n        };\r\n        app.storeToHistory(command);\r\n        app.restart();\r\n      } else if (app.selectedLink) {\r\n        app.links.splice(app.links.indexOf(app.selectedLink), 1);\r\n        var command = {\r\n          action: { type: \"delLink\", link: app.selectedLink },\r\n          inverse: {\r\n            type: \"addLink\",\r\n            link: app.selectedLink\r\n          }\r\n        };\r\n        app.storeToHistory(command);\r\n        app.restart();\r\n      }\r\n      app.selectedLink = null;\r\n      //app.selectedNode = null;\r\n\r\n      break;\r\n  }\r\n}\r\n\r\nexport function keyup(app) {\r\n  switch (d3.event.keyCode) {\r\n    case 9: //tab\r\n      //toggleFocus();\r\n      break;\r\n    case 192: // ` ~ key\r\n      if (app.selectedNode && !app.isTyping) {\r\n        if (app.state.preview) {\r\n          app.setError(\"Can't edit during Preview Mode\", 2000);\r\n          return;\r\n        }\r\n\r\n        app.inConnectMode = true;\r\n\r\n        if (isOptionGroupFormVisible(app)) {\r\n          stretchCloseOptionGroupForm(app, invertOptionGroupVisibility);\r\n        } else {\r\n          // not visible\r\n          app.optionGroupConnector.attr(\"visibility\", \"visible\");\r\n          app.optionGroupConnector.attr(\"opacity\", 1);\r\n          app.optionGroup.attr(\"opacity\", 1);\r\n          app.optionGroup.attr(\"visibility\", \"visible\");\r\n          stretchOutOptionGroupForm(app);\r\n        }\r\n\r\n        // now, move each element by 150 to the right, do this\r\n      }\r\n  }\r\n}\r\n\r\nexport function keypress(app) {}\r\n\r\nexport function resize(app) {\r\n  app.svg.style(\"width\", window.innerWidth).style(\"height\", window.innerHeight);\r\n}\r\n\r\nexport function splicelinksForNode(app, node) {\r\n  const toSplice = app.links.filter(\r\n    l => l.source === node || l.target === node\r\n  );\r\n  for (const l of toSplice) {\r\n    app.links.splice(app.links.indexOf(l), 1);\r\n  }\r\n\r\n  return toSplice;\r\n}\r\n","import * as d3 from \"d3\";\r\nimport { nodeMouseDown, circleNodeClick } from \"./mouseFunctions.js\";\r\nimport {\r\n  windowClick,\r\n  windowMouseDown,\r\n  windowMouseMove,\r\n  windowMouseUp\r\n} from \"./windowMouseFunctions.js\";\r\nexport function getInitialSVG() {\r\n  return d3\r\n    .select(\".GraphEditorContainer\")\r\n    .append(\"svg\")\r\n    .style(\"width\", window.innerWidth)\r\n    .attr(\"height\", window.innerHeight);\r\n}\r\n\r\nexport function setSVGDefs(svg) {\r\n  svg\r\n    .append(\"svg:defs\")\r\n    .append(\"svg:marker\")\r\n    .attr(\"id\", \"end-arrow\")\r\n    .attr(\"viewBox\", \"0 -5 10 10\")\r\n    .attr(\"refX\", 6)\r\n    .attr(\"markerWidth\", 3)\r\n    .attr(\"markerHeight\", 3)\r\n    .attr(\"orient\", \"auto\")\r\n    .append(\"svg:path\")\r\n    .attr(\"d\", \"M0,-5L10,0L0,5\")\r\n    .attr(\"fill\", \"#000\");\r\n  svg\r\n    .append(\"svg:defs\")\r\n    .append(\"svg:marker\")\r\n    .attr(\"id\", \"start-arrow\")\r\n    .attr(\"viewBox\", \"0 -5 10 10\")\r\n    .attr(\"refX\", 4)\r\n    .attr(\"markerWidth\", 3)\r\n    .attr(\"markerHeight\", 3)\r\n    .attr(\"orient\", \"auto\")\r\n    .append(\"svg:path\")\r\n    .attr(\"d\", \"M10,-5L0,0L10,5\")\r\n    .attr(\"fill\", \"#000\");\r\n}\r\n\r\nexport function setSVGEvents(svg, mainRef) {\r\n  svg\r\n    .on(\"mousedown\", function() {\r\n      windowMouseDown(this, mainRef);\r\n    })\r\n    .on(\"mousemove\", function() {\r\n      windowMouseMove(this, mainRef);\r\n    })\r\n    .on(\"mouseup\", function() {\r\n      windowMouseUp(this, mainRef);\r\n    })\r\n    .on(\"click\", function() {\r\n      windowClick(this, mainRef);\r\n    });\r\n}\r\n\r\nexport function setDefsGradient(defs) {\r\n  var gradient = defs\r\n    .append(\"linearGradient\")\r\n    .attr(\"id\", \"svgGradient\")\r\n    .attr(\"x1\", \"0%\")\r\n    .attr(\"x2\", \"100%\")\r\n    .attr(\"y1\", \"0%\")\r\n    .attr(\"y2\", \"100%\");\r\n\r\n  gradient\r\n    .append(\"stop\")\r\n    .attr(\"class\", \"start\")\r\n    .attr(\"offset\", \"0%\")\r\n    .attr(\"stop-color\", \"red\")\r\n    .attr(\"stop-opacity\", 1);\r\n\r\n  gradient\r\n    .append(\"stop\")\r\n    .attr(\"class\", \"end\")\r\n    .attr(\"offset\", \"100%\")\r\n    .attr(\"stop-color\", \"blue\");\r\n}\r\n\r\nexport function getInitialDrag(mainRef) {\r\n  return d3\r\n    .drag()\r\n    .on(\"start\", d => {\r\n      if (!d3.event.active) mainRef.force.alphaTarget(0.3).restart();\r\n      d.fx = d.x;\r\n      d.fy = d.y;\r\n      mainRef.isDragging = true;\r\n    })\r\n    .on(\"drag\", d => {\r\n      d.fx = d3.event.x;\r\n      d.fy = d3.event.y;\r\n    })\r\n    .on(\"end\", d => {\r\n      if (!d3.event.active) mainRef.force.alphaTarget(0);\r\n      d.fx = null;\r\n      d.fy = null;\r\n      mainRef.isDragging = false;\r\n      mainRef.mousedownNode = null;\r\n      mainRef.mousedownLink = null;\r\n    });\r\n}\r\n\r\nexport function getInitialForce(mainRef) {\r\n  return d3\r\n    .forceSimulation(mainRef.nodes)\r\n    .force(\r\n      \"link\",\r\n      d3\r\n        .forceLink(mainRef.links)\r\n        .id(d => d.id)\r\n        .distance(function(d) {\r\n          return d.linkDistance;\r\n        })\r\n    )\r\n    .force(\"charge\", d3.forceManyBody().strength(-5))\r\n    .on(\"tick\", () => {\r\n      mainRef.tick();\r\n    });\r\n}\r\n","import \"../styles/PreviewCard.css\";\r\nimport React from \"react\";\r\nconst PreviewCard = node => {\r\n  return (\r\n    <div id=\"bruh\">\r\n      <div className=\"card\">\r\n        <div className=\"cardGradient\"></div>\r\n        <img className=\"cardImg\" width=\"60\" height=\"60\" />\r\n        <br />\r\n        <span className=\"container\">\r\n          <span className=\"title\">\r\n            {node.node.title ? node.node.title : \"No Title\"}\r\n          </span>\r\n          <br />\r\n          {console.log(node.node.info)}\r\n          <span className=\"description\">\r\n            {node.node.info ? node.node.info : \"No Description\"}\r\n          </span>\r\n          <br />\r\n          <span\r\n            className=\"description url\"\r\n            onClick={() => {\r\n              if (node.node.url) {\r\n                if (node.node.url.includes(\"https://www.\")) {\r\n                  window.open(node.node.url, \"_blank\");\r\n                } else if (node.node.url.includes(\"www.\")) {\r\n                  window.open(\"https://\" + node.node.url, \"_blank\");\r\n                } else window.open(\"https://www.\" + node.node.url, \"_blank\");\r\n              }\r\n            }}\r\n          >\r\n            <i className=\"fas fa-globe\"></i>{\" \"}\r\n            {node.node.url ? \" Open In New Tab\" : \"No URL\"}\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreviewCard;\r\n","import * as d3 from \"d3\";\r\nimport React, { Component } from \"react\";\r\nimport \"../styles/ColorCard.css\";\r\n\r\nexport default class ColorCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { textSize: this.props.textSize };\r\n  }\r\n  componentWillReceiveProps(newProps) {\r\n    this.setState({ textSize: newProps.textSize });\r\n  }\r\n\r\n  textSizeDecrement = () => {\r\n    if (this.state.textSize >= 11) {\r\n      this.props.changeTextSize(this.state.textSize - 1);\r\n      this.setState({ textSize: this.state.textSize - 1 });\r\n    }\r\n  };\r\n\r\n  textSizeIncrement = () => {\r\n    if (this.state.textSize <= 29) {\r\n      this.props.changeTextSize(this.state.textSize + 1);\r\n      this.setState({ textSize: this.state.textSize + 1 });\r\n    }\r\n  };\r\n\r\n  onSubmit = e => {\r\n    console.log(e.target.value);\r\n    if (e.target.value <= 30 && e.target.value >= 10) {\r\n      this.setState({ textSize: e.target.value });\r\n      this.props.changeTextSize(e.target.value);\r\n    } else {\r\n      this.setState({ textSize: this.props.textSize });\r\n    }\r\n  };\r\n\r\n  changeBackgroundColor = color => {\r\n    console.log(\"clicked color\", color);\r\n    this.props.changeBackgroundColor(color);\r\n  };\r\n\r\n  changeStrokeColor = color => {\r\n    this.props.changeStrokeColor(color);\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ textSize: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const backgroundColorArray = [\"white\", \"black\"].concat(\r\n      d3.schemeCategory10.slice(0, 6)\r\n    );\r\n    const strokeColorArray = [\"white\", \"black\"].concat(\r\n      d3.schemeCategory10.slice(0, 6)\r\n    );\r\n    const numberArray = [0, 1, 2, 3, 4, 5];\r\n    //WARNING: replace selected with your selected to render selected ele\r\n    const selected = d3.schemeCategory10[0];\r\n    const selected2 = d3.schemeCategory10[1];\r\n\r\n    const numbers = numberArray;\r\n\r\n    const selectedNumber = 0;\r\n\r\n    var selectedBackgroundColor = this.props.selectedNode.backgroundColor;\r\n    var selectedStrokeColor = this.props.selectedNode.strokeColor;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          className={\r\n            this.props.type && this.props.type === \"text\"\r\n              ? \"colorCardContainer text\"\r\n              : \"colorCardContainer\"\r\n          }\r\n        >\r\n          <div className=\"colorCardContainerInner\">\r\n            <div>\r\n              <a className=\"colorCardA\">Background Color</a>\r\n            </div>\r\n            <div className=\"backgroundColorGrid\">\r\n              {backgroundColorArray.map(eachColor =>\r\n                eachColor === selectedBackgroundColor ? (\r\n                  <div\r\n                    className=\"backgroundColorBlock selected\"\r\n                    style={{ backgroundColor: eachColor }}\r\n                  ></div>\r\n                ) : (\r\n                  <div\r\n                    className=\"backgroundColorBlock\"\r\n                    style={{ backgroundColor: eachColor }}\r\n                    onClick={() => {\r\n                      this.changeBackgroundColor(eachColor);\r\n                    }}\r\n                  ></div>\r\n                )\r\n              )}\r\n            </div>\r\n            <div>\r\n              <a className=\"colorCardA\">Stroke Color</a>\r\n            </div>\r\n            <div className=\"strokeColorGrid\">\r\n              {strokeColorArray.map(eachColor =>\r\n                eachColor === selectedStrokeColor ? (\r\n                  <div\r\n                    className=\"strokeColorBlock selected\"\r\n                    style={{ backgroundColor: eachColor }}\r\n                  ></div>\r\n                ) : (\r\n                  <div\r\n                    className=\"strokeColorBlock\"\r\n                    style={{ backgroundColor: eachColor }}\r\n                    onClick={() => {\r\n                      this.changeStrokeColor(eachColor);\r\n                    }}\r\n                  ></div>\r\n                )\r\n              )}\r\n            </div>\r\n\r\n            {this.props.type && this.props.type === \"text\" ? (\r\n              <div>\r\n                <a className=\"colorCardA\">Text Size</a>\r\n                <div className=\"textSizeContainer\">\r\n                  <span\r\n                    className=\"input-number-decrement\"\r\n                    onClick={this.textSizeDecrement}\r\n                  >\r\n                    –\r\n                  </span>\r\n                  <input\r\n                    className=\"input-number\"\r\n                    type=\"integer\"\r\n                    value={this.state.textSize}\r\n                    onChange={this.onChange}\r\n                    onBlur={this.onSubmit}\r\n                    min=\"0\"\r\n                    max=\"30\"\r\n                  />\r\n                  <span\r\n                    className=\"input-number-increment\"\r\n                    onClick={this.textSizeIncrement}\r\n                  >\r\n                    +\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Manual from \"./Manual.jsx\";\r\nimport PageContainer from \"./PageContainer.js\";\r\nimport EditorNavbar from \"./subComponents/EditorNavbar.jsx\";\r\nimport * as d3 from \"d3\";\r\nimport { select, event } from \"d3-selection\";\r\nimport \"d3-selection-multi\";\r\nimport \"./GraphEditor.css\";\r\nimport notFocused from \"./svgs/network.svg\";\r\nimport focused from \"./svgs/network_purple.svg\";\r\nimport manual from \"./svgs/manual.svg\";\r\nimport close from \"./svgs/close.svg\";\r\nimport check from \"./svgs/check.svg\";\r\nimport preview from \"./svgs/preview.svg\";\r\nimport preview_purple from \"./svgs/preview_purple.svg\";\r\nimport open_new_tab from \"./svgs/open_new_tab.png\";\r\nimport theming from \"./svgs/painting.svg\";\r\nimport theming_purple from \"./svgs/painting_purple.svg\";\r\nimport {\r\n  rectOnClickSetUp,\r\n  rectOnClickBlurCurrentText\r\n} from \"./RoadmapediaMouseFunctions.js\";\r\nimport alphabetT from \"./svgs/t-alphabet.svg\";\r\nimport alphabetTPurple from \"./svgs/t-alphabet-purple.svg\";\r\nimport purpleLink from \"./svgs/purpleLink.svg\";\r\nimport link from \"./svgs/link.svg\";\r\nimport { textArrToHTML } from \"./helperFunctions/StringHelperFunctions.js\";\r\nimport {\r\n  getTranslateString,\r\n  pureDecodeTranslate,\r\n  decodeTranslateString,\r\n  translateFromCenterToDefault,\r\n  translateToDefault,\r\n  translateBackLastMoved,\r\n  transformCloseCurrentNode,\r\n  transformOpenCurrentNode,\r\n  updateBasePeriod,\r\n  makeTransitionNodeData\r\n} from \"./helperFunctions/TransitionNodesHelperFunctions.js\";\r\nimport {\r\n  getInitialSVG,\r\n  setSVGDefs,\r\n  setSVGEvents,\r\n  getInitialDrag,\r\n  getInitialForce,\r\n  setDefsGradient\r\n} from \"./helperFunctions/setUp.js\";\r\n\r\nimport {\r\n  nodeMouseDown,\r\n  nodeMouseUp,\r\n  textNodeClick,\r\n  textNodeDblClick,\r\n  circleNodeClick\r\n} from \"./helperFunctions/mouseFunctions.js\";\r\n\r\nimport {\r\n  windowClick,\r\n  windowMouseUp,\r\n  windowMouseDown,\r\n  windowMouseMove,\r\n  keyup,\r\n  keydown,\r\n  keypress,\r\n  resize\r\n} from \"./helperFunctions/windowMouseFunctions.js\";\r\nimport {\r\n  invertOptionGroupVisibility,\r\n  isOptionGroupFormVisible,\r\n  stretchCloseOptionGroupForm,\r\n  stretchOutOptionGroupForm,\r\n  isTransitionCircleShowing,\r\n  closeForm,\r\n  closeNode\r\n} from \"./helperFunctions/transitionFormFunctions.js\";\r\nimport { updateStroke } from \"./helperFunctions/updateFunctions.js\";\r\n\r\nimport {\r\n  setOptionGroupLinkMouseEvents,\r\n  setOptionGroupTextMouseEvents\r\n} from \"./helperFunctions/optionGroupClicks.js\";\r\nimport \"./styles/RmapCreatorToolBar.scss\";\r\nimport PreviewCard from \"./RoadmapediaSubComponents/PreviewCard.jsx\";\r\nimport ColorCard from \"./RoadmapediaSubComponents/ColorCard.jsx\";\r\n\r\nconst initialNodes = [];\r\n\r\nconst initialLinks = [];\r\n\r\nclass GraphEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showManual: false,\r\n      focus: true,\r\n      errMsg: \"\",\r\n      preview: false,\r\n      theming: false\r\n    };\r\n\r\n    this.nodes = initialNodes;\r\n    this.links = initialLinks;\r\n\r\n    // mouse logic variables\r\n    this.selectedNode = null;\r\n    this.selectedLink = null;\r\n    this.mousedownLink = null;\r\n    this.mousedownNode = null;\r\n    this.mouseupNode = null;\r\n\r\n    // DOM selection global variables\r\n    this.svg = null;\r\n    this.container = null;\r\n    this.dragLine = null;\r\n    this.path = null;\r\n    this.rectGroups = null;\r\n    this.circleGroups = null;\r\n    this.texts = null;\r\n    this.textBox = null;\r\n    this.resourceForm = null;\r\n    this.optionGroup = null;\r\n    this.optionGroupG = null;\r\n    this.optionGroupConnector = null;\r\n    this.force = null;\r\n    this.drag = null;\r\n\r\n    // DOM Transition Nodes\r\n    this.transitionGs = null;\r\n    this.transitionGsEnter = null;\r\n\r\n    // conditional handling variabels\r\n    this.startText = null;\r\n    this.previousTransform = null;\r\n    this.isDragging = false;\r\n    this.isTyping = false;\r\n    this.shouldTransitionGsAnimate = true;\r\n    this.animationAlreadyCompleted = false;\r\n    this.shouldTransitionGsEnterAnimation = true;\r\n\r\n    //history\r\n    this.history = [\r\n      {\r\n        nodes: JSON.stringify([...initialNodes]),\r\n        links: JSON.stringify([...initialLinks])\r\n      }\r\n    ];\r\n    this.historyStep = 0;\r\n  }\r\n\r\n  storeToHistory(command) {\r\n    this.history = this.history.slice(0, this.historyStep + 1);\r\n    this.history = this.history.concat([command]);\r\n    this.historyStep += 1;\r\n    console.log(this.history);\r\n  }\r\n\r\n  undo() {\r\n    if (this.historyStep !== 0) {\r\n      console.log(this.history[this.historyStep]);\r\n      var inverseCommand = this.history[this.historyStep].inverse;\r\n      switch (inverseCommand.type) {\r\n        case \"delNode\":\r\n          if (this.selectedNode.id === inverseCommand.node.id) {\r\n            this.selectedNode = null;\r\n            this.forceUpdate();\r\n          }\r\n          this.nodes = this.nodes.filter(n => n.id !== inverseCommand.node.id);\r\n          break;\r\n\r\n        case \"delLink\":\r\n          this.links = this.links.filter(\r\n            l => l.index !== inverseCommand.link.index\r\n          );\r\n\r\n          break;\r\n\r\n        case \"addLink\":\r\n          this.links.push({\r\n            source: inverseCommand.link.source,\r\n            target: inverseCommand.link.target,\r\n            linkDistance: inverseCommand.link.linkDistance,\r\n            index: inverseCommand.link.index\r\n          });\r\n\r\n          break;\r\n\r\n        case \"delNodeLink\":\r\n          this.nodes = this.nodes.filter(n => n.id !== inverseCommand.node.id);\r\n          this.links = this.links.filter(l => {\r\n            return inverseCommand.links.indexOf(l) < 0;\r\n          });\r\n\r\n          break;\r\n\r\n        case \"addNodeLink\":\r\n          this.nodes.push(inverseCommand.node);\r\n\r\n          inverseCommand.links.map(eachLink => {\r\n            this.links.push({\r\n              source: eachLink.source,\r\n              target: eachLink.target,\r\n              linkDistance: eachLink.linkDistance,\r\n              index: eachLink.index\r\n            });\r\n          });\r\n\r\n          break;\r\n\r\n        case \"modifyText\":\r\n          this.nodes.map(n => {\r\n            if (n.id === inverseCommand.node.id) {\r\n              n.text = inverseCommand.text;\r\n            }\r\n          });\r\n\r\n          break;\r\n\r\n        case \"modifyResourceNode\":\r\n          this.nodes.map(n => {\r\n            if (n.id === inverseCommand.node.id) {\r\n              n.description = inverseCommand.description;\r\n              n.storedInfo.url = inverseCommand.storedInfo.url;\r\n            }\r\n          });\r\n\r\n          break;\r\n      }\r\n      this.historyStep -= 1;\r\n    }\r\n    this.restart();\r\n  }\r\n\r\n  redo() {\r\n    if (this.historyStep !== this.history.length - 1) {\r\n      this.historyStep += 1;\r\n      var actionCommand = this.history[this.historyStep].action;\r\n      switch (actionCommand.type) {\r\n        case \"addNode\":\r\n          this.nodes.push(actionCommand.node);\r\n          break;\r\n        case \"addLink\":\r\n          this.links.push({\r\n            source: actionCommand.link.source,\r\n            target: actionCommand.link.target,\r\n            linkDistance: actionCommand.link.linkDistance,\r\n            index: actionCommand.link.index\r\n          });\r\n          break;\r\n        case \"delLink\":\r\n          this.links = this.links.filter(\r\n            l => l.index !== actionCommand.link.index\r\n          );\r\n          break;\r\n\r\n        case \"addNodeLink\":\r\n          this.nodes.push(actionCommand.node);\r\n\r\n          actionCommand.links.map(eachLink => {\r\n            this.links.push({\r\n              source: eachLink.source,\r\n              target: eachLink.target,\r\n              linkDistance: eachLink.linkDistance,\r\n              index: eachLink.index\r\n            });\r\n          });\r\n          break;\r\n        case \"delNodeLink\":\r\n          this.nodes = this.nodes.filter(n => n.id !== actionCommand.node.id);\r\n          this.nodes = this.links.filter(l => {\r\n            return actionCommand.links.indexOf(l) < 0;\r\n          });\r\n\r\n          break;\r\n\r\n        case \"modifyText\":\r\n          this.nodes.map(n => {\r\n            if (n.id === actionCommand.node.id) {\r\n              n.text = actionCommand.text;\r\n            }\r\n          });\r\n\r\n          break;\r\n\r\n        case \"modifyResourceNode\":\r\n          this.nodes.map(n => {\r\n            if (n.id === actionCommand.node.id) {\r\n              n.description = actionCommand.description;\r\n              n.storedInfo.url = actionCommand.storedInfo.url;\r\n            }\r\n          });\r\n\r\n          break;\r\n      }\r\n\r\n      this.restart();\r\n    }\r\n  }\r\n\r\n  setError(error, waitTime) {\r\n    var app = this;\r\n    this.setState(\r\n      {\r\n        errMsg: error\r\n      },\r\n      function() {\r\n        if (app.isErroring) {\r\n          d3.select(\".errMsginner\").interrupt();\r\n          d3.select(\".errMsginner\").style(\"opacity\", 1);\r\n        }\r\n        setTimeout(function() {\r\n          d3.select(\".errMsginner\")\r\n            .style(\"opacity\", 1)\r\n            .transition()\r\n            .duration(1000)\r\n            .style(\"opacity\", 0)\r\n            .on(\"start\", () => {\r\n              app.isErroring = true;\r\n            })\r\n            .on(\"end\", function() {\r\n              app.setState({ errMsg: \"\" });\r\n              app.isErroring = false;\r\n            });\r\n          //  app.setState({ errMsg: \"\" });\r\n        }, waitTime);\r\n      }\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    var app = this;\r\n\r\n    // set up SVG & Defs\r\n    this.svg = getInitialSVG();\r\n    setSVGDefs(this.svg);\r\n    setSVGEvents(this.svg, app);\r\n    var defs = this.svg.append(\"defs\");\r\n    setDefsGradient(defs);\r\n\r\n    // set up container, DOM groups empty selection,\r\n    this.container = this.svg\r\n      .append(\"svg:g\")\r\n      .attr(\"class\", \"gContainer\")\r\n      .attrs({\r\n        transform: this.previousTransform ? this.previousTransform : null\r\n      });\r\n    // set up dragLine\r\n    this.dragLine = this.container\r\n      .append(\"svg:path\")\r\n      .attr(\"class\", \"link dragline hidden\")\r\n      .attr(\"d\", \"M0,0L0,0\")\r\n      .classed(\"hidden\", true);\r\n\r\n    this.path = this.container.append(\"svg:g\").selectAll(\"path\");\r\n    this.rectGroups = this.container.append(\"svg:g\").selectAll(\"g.nodeGroup\");\r\n    this.texts = this.container.append(\"svg:g\").selectAll(\"g\");\r\n    this.circleGroups = this.container.append(\"svg:g\").selectAll(\"g\");\r\n\r\n    this.textBox = this.container.append(\"foreignObject\");\r\n    this.resourceForm = this.container\r\n      .append(\"foreignObject\")\r\n      .attr(\"class\", \"resourceForm\");\r\n    this.optionGroup = this.container\r\n      .append(\"g\")\r\n      .attr(\"opacity\", 0)\r\n      .attr(\"visibility\", \"hidden\");\r\n\r\n    this.optionGroupG = this.optionGroup\r\n      .append(\"g\")\r\n      .attr(\"transform\", getTranslateString(0, 0));\r\n\r\n    this.optionG = this.container.append(\"g\").attr(\"class\", \"optionG\");\r\n\r\n    this.optionGroupConnector = this.optionGroup\r\n      .append(\"rect\")\r\n      .attrs({ height: 3, width: 0, x: -10, y: 25, stroke: \"black\" });\r\n\r\n    // don't need to select optionGroupRect again, so use var\r\n    this.optionGroupG\r\n      .append(\"g\")\r\n      .append(\"rect\")\r\n      .attrs({\r\n        x: -10,\r\n        y: 0,\r\n        width: 135,\r\n        height: 50,\r\n        stroke: \"black\",\r\n        fill: \"white\",\r\n        rx: 6\r\n      })\r\n      .style(\"stroke-width\", 2);\r\n\r\n    // Border\r\n    this.optionGroupG\r\n      .append(\"line\")\r\n      .attrs({ x1: 57.5, y1: 9, x2: 57.5, y2: 42, stroke: \"black\" })\r\n      .attr(\"stroke-width\", 2);\r\n\r\n    // The T Symbol\r\n    var optionGroupText = this.optionGroupG\r\n      .append(\"image\")\r\n      .attr(\"xlink:href\", alphabetT)\r\n      .attrs({ width: 50, height: 50, x: 75 });\r\n\r\n    //  The Link Symbol\r\n    var optionGroupLink = this.optionGroupG\r\n      .append(\"image\")\r\n      .attr(\"xlink:href\", link)\r\n      .attrs({\r\n        width: 30,\r\n        height: 30,\r\n        y: 10,\r\n        color: \"purple\",\r\n        stroke: \"purple\"\r\n      });\r\n\r\n    setOptionGroupTextMouseEvents(app, optionGroupText);\r\n    setOptionGroupLinkMouseEvents(app, optionGroupLink);\r\n\r\n    // initialize drag, force, zoom\r\n    this.drag = getInitialDrag(app);\r\n    this.force = getInitialForce(app);\r\n    var zoom = d3.zoom().on(\"zoom\", function() {\r\n      app.container.attr(\"transform\", d3.event.transform);\r\n    });\r\n\r\n    this.svg.call(zoom).on(\"dblclick.zoom\", null);\r\n\r\n    d3.select(window)\r\n      .on(\"keydown\", function() {\r\n        keydown(app);\r\n      })\r\n      .on(\"keyup\", function() {\r\n        keyup(app);\r\n      })\r\n      .on(\"keypress\", function() {\r\n        keypress(app);\r\n      })\r\n      .on(\"resize\", function() {\r\n        resize(app);\r\n      });\r\n\r\n    // start rendering\r\n    this.restart();\r\n  }\r\n\r\n  tick() {\r\n    var app = this;\r\n    if (\r\n      this.selectedNode &&\r\n      this.optionGroupConnector.attr(\"visibility\") === \"visible\"\r\n    )\r\n      this.optionGroup.attr(\"transform\", function(d) {\r\n        if (app.selectedNode.type === \"circle\")\r\n          return getTranslateString(\r\n            app.selectedNode.x + 115,\r\n            app.selectedNode.y - 5\r\n          );\r\n\r\n        return `translate(${app.selectedNode.x +\r\n          app.selectedNode.width +\r\n          10},${app.selectedNode.y + app.selectedNode.height / 2 - 25})`;\r\n      });\r\n\r\n    this.path.attr(\"d\", d => {\r\n      if (!this.state.focus) {\r\n        this.links.map(eachLink => {\r\n          if (eachLink.index === d.index) {\r\n            eachLink.linkDistance = Math.sqrt(\r\n              Math.pow(d.source.x - d.target.x, 2) +\r\n                Math.pow(d.source.y - d.target.y, 2)\r\n            );\r\n          }\r\n        });\r\n      }\r\n\r\n      //WARNING: TURNS OUT, AFTER WE PUT IN FORCE.NODES AND ALL THAT, D.X & D.Y STOP CHANGING\r\n      return `M${d.source.x + d.source.width / 2},${d.source.y +\r\n        d.source.height / 2}L${d.target.x + d.target.width / 2},${d.target.y +\r\n        d.target.height / 2}`;\r\n    });\r\n\r\n    this.rectGroups.attr(\"transform\", d => {\r\n      if (this.textInputCircle)\r\n        if (d.id === this.textInputCircle.id) {\r\n          this.textInputCircle.x = d.x;\r\n          this.textInputCircle.y = d.y;\r\n        }\r\n      return `translate(${d.x},${d.y})`;\r\n    });\r\n\r\n    this.circleGroups.attr(\"transform\", d => getTranslateString(d.x, d.y));\r\n\r\n    if (this.textBox.attr(\"x\"))\r\n      this.textBox\r\n        .attr(\"x\", this.textInputCircle.x + 25)\r\n        .attr(\"y\", this.textInputCircle.y);\r\n\r\n    if (this.selectedNode && this.selectedNode.type === \"circle\") {\r\n      this.optionG.attr(\r\n        \"transform\",\r\n        getTranslateString(this.selectedNode.x + 75, this.selectedNode.y + 20)\r\n      );\r\n    }\r\n  }\r\n\r\n  restart() {\r\n    var app = this;\r\n    var globalRadius = 35;\r\n    d3.select(\"#firstNodeText\").remove();\r\n    if (this.nodes.length === 0) {\r\n      this.container\r\n        .append(\"svg:text\")\r\n        .lower()\r\n        .attrs({\r\n          x: window.innerWidth / 2 - 80,\r\n          y: window.innerHeight / 2 - 20,\r\n          id: \"firstNodeText\"\r\n        })\r\n        .text(\"Hey! To get started, press ctrl + click!\");\r\n    }\r\n\r\n    //JOIN DATA\r\n    this.path = this.path.data(this.links);\r\n\r\n    // update existing this.links\r\n    this.path\r\n      .classed(\"selected\", d => d === this.selectedLink)\r\n      .style(\"marker-end\", \"url(#end-arrow)\");\r\n\r\n    // EXIT\r\n    var pathExit = this.path.exit();\r\n    pathExit\r\n      .attr(\"opacity\", 1)\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"opacity\", 0)\r\n      .on(\"end\", function() {\r\n        d3.select(this).remove();\r\n      });\r\n\r\n    // UPDATE\r\n    this.path = this.path\r\n      .enter()\r\n      .append(\"svg:path\")\r\n      .attr(\"class\", \"link\")\r\n      .classed(\"selected\", d => d === this.selectedLink)\r\n      .style(\"marker-end\", \"url(#end-arrow)\")\r\n      .on(\"mousedown\", d => {\r\n        if (d3.event.ctrlKey) return;\r\n\r\n        // select link\r\n        this.mousedownLink = d;\r\n        this.selectedLink =\r\n          this.mousedownLink === this.selectedLink ? null : this.mousedownLink;\r\n        this.selectedNode = null;\r\n        this.forceUpdate();\r\n        this.restart();\r\n      })\r\n      .merge(this.path);\r\n\r\n    this.rectGroups = this.rectGroups.data(\r\n      this.nodes.filter(eachNode => eachNode.type === \"text\"),\r\n      d => d.id\r\n    );\r\n\r\n    var rectGroupsExit = this.rectGroups.exit();\r\n\r\n    rectGroupsExit\r\n      .attr(\"background\", \"red\")\r\n      .attr(\"opacity\", 1)\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"opacity\", 0)\r\n      .on(\"end\", function() {\r\n        d3.select(this).remove();\r\n      });\r\n\r\n    var rectGroupsEnter = this.rectGroups\r\n      .enter()\r\n      .append(\"svg:g\")\r\n      .attr(\"class\", \"nodeGroup\");\r\n\r\n    // a selection of rect\r\n    var rect = rectGroupsEnter.append(\"svg:rect\");\r\n\r\n    this.circleGroups = this.circleGroups.data(\r\n      this.nodes.filter(eachNode => eachNode.type === \"circle\"),\r\n      d => d.id\r\n    );\r\n\r\n    var circleGroupsExit = this.circleGroups.exit();\r\n    circleGroupsExit\r\n      .attr(\"opacity\", 1)\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"opacity\", 0)\r\n      .on(\"end\", function() {\r\n        d3.select(this).remove();\r\n      });\r\n    circleGroupsExit\r\n      .attr(\"opacity\", 1)\r\n      .transition()\r\n      .duration(500)\r\n      .attr(\"opacity\", 0)\r\n      .on(\"end\", function() {\r\n        d3.select(this).remove();\r\n      });\r\n\r\n    var circleGroupsEnter = this.circleGroups\r\n      .enter()\r\n      .append(\"g\")\r\n      .attr(\"class\", \"circleGroup\");\r\n\r\n    var clipPaths = circleGroupsEnter\r\n      .append(\"clipPath\")\r\n      .attr(\"id\", function(d, i) {\r\n        //look lke: clipPath0\r\n        return \"clipPath\" + i;\r\n      })\r\n      .append(\"circle\")\r\n      .attrs({ cx: 75, cy: 20, r: globalRadius });\r\n\r\n    var circles = circleGroupsEnter\r\n      .append(\"svg:circle\")\r\n      .attrs({\r\n        r: globalRadius,\r\n        cx: 75,\r\n        cy: 20,\r\n        fill: \"white\",\r\n        class: \"node\"\r\n      })\r\n      .style(\"stroke-width\", 3);\r\n\r\n    circles\r\n      .merge(d3.selectAll(\"circle.node\"))\r\n      .attr(\"stroke\", function(d, i) {\r\n        console.log(\"HERE\", app.selectedNode, d);\r\n\r\n        if (app.selectedNode && d.id === app.selectedNode.id) {\r\n          return \"url(#svgGradient)\";\r\n        }\r\n        return d.strokeColor;\r\n      })\r\n      .attr(\"fill\", function(d) {\r\n        if (d.backgroundColor) {\r\n          return d.backgroundColor;\r\n        }\r\n      });\r\n\r\n    var images = circleGroupsEnter\r\n      .append(\"svg:image\")\r\n      .attr(\"class\", \"nodeImage\")\r\n      .attrs({\r\n        width: globalRadius * 2,\r\n        height: globalRadius * 2,\r\n        x: 40,\r\n        y: -15\r\n      })\r\n      .attr(\"clip-path\", function(d, i) {\r\n        return \"url(#clipPath\" + i + \")\";\r\n      });\r\n\r\n    images.merge(d3.selectAll(\".nodeImage\")).each(function(d) {\r\n      var that = this;\r\n      if (!d.storedInfo.url || d.storedInfo.url === \"\") {\r\n        d3.select(this).attr(\"href\", null);\r\n      } else {\r\n        var img = new Image();\r\n        img.onload = function() {\r\n          d3.select(this).attr(\"href\", img.src);\r\n        };\r\n        img.src =\r\n          \"https://forked-besticon.herokuapp.com/icon?url=\" +\r\n          d.storedInfo.url +\r\n          \"&size=80..120..200\";\r\n\r\n        if (!d3.select(this).attr(\"href\")) {\r\n          d3.select(this).attr(\r\n            \"href\",\r\n            \"https://static.thenounproject.com/png/20724-200.png\"\r\n          );\r\n        }\r\n      }\r\n    });\r\n    this.circleGroups = this.circleGroups.merge(circleGroupsEnter);\r\n    this.circleGroups\r\n      .on(\"mousedown\", function(d, i) {\r\n        nodeMouseDown(d, i, this, app);\r\n      })\r\n      .on(\"mouseup\", function(d, i) {\r\n        // nodeMouseUp's this is GraphEditor instead of this.circleGroupsNow\r\n        nodeMouseUp(d, i, this, app);\r\n      })\r\n      .on(\"click\", function(d, i) {\r\n        circleNodeClick(d, i, this, app);\r\n      })\r\n      .call(this.drag);\r\n\r\n    var textContainers = rectGroupsEnter\r\n      .append(\"svg:g\")\r\n      .attr(\"class\", \"textContainer\");\r\n\r\n    textContainers = textContainers\r\n      .merge(d3.selectAll(\"g.textContainer\"))\r\n      .on(\"mousedown\", d => {\r\n        // select node\r\n        this.mousedownNode = d;\r\n        this.selectedNode =\r\n          this.mousedownNode === this.selectedNode ? null : this.mousedownNode;\r\n\r\n        this.selectedLink = null;\r\n\r\n        //can't restart, if restart dblclick can't be detected\r\n        //restart();\r\n      })\r\n      .on(\"mouseup\", function(d, i) {\r\n        nodeMouseUp(d, i, this, app);\r\n      })\r\n      .attr(\"opacity\", d => d.opacity)\r\n      //.attr(\"text-anchor\", \"middle\")\r\n      .attr(\"dy\", function(d) {\r\n        var nwords = d.text.length;\r\n        return \"-\" + (nwords - 1) * 12;\r\n      })\r\n      .style(\"transform\", function(d) {\r\n        var bboxWidth = d3\r\n          .select(this)\r\n          .node()\r\n          .getBBox().width;\r\n\r\n        var bboxHeight = d3\r\n          .select(this)\r\n          .node()\r\n          .getBBox().height;\r\n        var toShiftX = 25;\r\n        var toShiftY = (d.height - bboxHeight) / 2 + 12.5;\r\n        return \"translate(\" + toShiftX + \"px, \" + toShiftY + \"px)\";\r\n      });\r\n\r\n    var texts = textContainers.selectAll(\"text\").data(d => d.text);\r\n    texts.exit().remove();\r\n    texts = texts\r\n      .enter()\r\n      .append(\"text\")\r\n      .merge(texts);\r\n    texts.html(function(d, i) {\r\n      if (!d) {\r\n        return;\r\n      }\r\n      var a = d;\r\n      while (a.includes(\" \")) {\r\n        a = a.replace(\" \", \"&nbsp;\");\r\n      }\r\n      return a;\r\n    });\r\n\r\n    textContainers.each(function(d, i) {\r\n      console.log(d.textSize, d3.select(this).selectAll(\"text\"));\r\n      d3.select(this)\r\n        .selectAll(\"text\")\r\n        .style(\"font-size\", d.textSize)\r\n        .attr(\"y\", (_, i) => d.textSize * i + (d.textSize - 12));\r\n\r\n      var eachTextHeight = d3\r\n        .select(this)\r\n        .select(\"text\")\r\n        .node()\r\n        .getBBox().height;\r\n      var textGroup = d3.select(this).selectAll(\"text\");\r\n      var widthArray = [];\r\n      textGroup.each(function() {\r\n        widthArray.push(\r\n          d3\r\n            .select(this)\r\n            .node()\r\n            .getBBox().width\r\n        );\r\n      });\r\n      d.width = Math.max(...widthArray) + 50;\r\n      d.height = d.text.length * eachTextHeight + 25;\r\n    });\r\n\r\n    rect\r\n      .merge(d3.selectAll(\"rect.node\"))\r\n      .attrs({\r\n        class: \"node\",\r\n        rx: 6,\r\n        ry: 6,\r\n        width: d => d.width,\r\n        height: d => d.height,\r\n        fill: \"white\"\r\n      })\r\n      .style(\"stroke-width\", 2)\r\n      .attr(\"stroke\", function(d) {\r\n        if (app.selectedNode && d.id === app.selectedNode.id) {\r\n          return \"url(#svgGradient)\";\r\n        }\r\n        return d.strokeColor;\r\n      })\r\n      .attr(\"fill\", d => d.backgroundColor)\r\n\r\n      .on(\"click\", function(d, i) {\r\n        textNodeClick(d, i, this, app);\r\n      })\r\n      .on(\"dblclick\", function(d, i) {\r\n        updateStroke(app);\r\n        textNodeDblClick(d, i, this, app);\r\n        //updateStroke(app);\r\n      })\r\n      .on(\"mousedown\", function(d, i) {\r\n        nodeMouseDown(d, i, this, app);\r\n      })\r\n      .on(\"mouseup\", function(d, i) {\r\n        nodeMouseUp(d, i, this, app);\r\n      })\r\n      .on(\"click\", function(d, i) {\r\n        textNodeClick(d, i, this, app);\r\n      });\r\n\r\n    this.rectGroups = this.rectGroups.merge(rectGroupsEnter);\r\n    this.rectGroups.call(this.drag);\r\n\r\n    this.force.nodes(this.nodes);\r\n\r\n    this.force.alphaTarget(0.3).restart();\r\n  }\r\n\r\n  toggleFocus = () => {\r\n    var app = this;\r\n    var prevFocus = this.state.focus;\r\n    this.setState({ focus: !this.state.focus });\r\n    if (prevFocus === false) {\r\n      this.force = d3\r\n        .forceSimulation(this.nodes)\r\n        .force(\r\n          \"link\",\r\n          d3\r\n            .forceLink(this.links)\r\n            .id(d => d.id)\r\n            .distance(function(d) {\r\n              return d.linkDistance;\r\n            })\r\n        )\r\n        .force(\"charge\", d3.forceManyBody().strength(-100))\r\n        .on(\"tick\", () => {\r\n          app.tick();\r\n        });\r\n\r\n      this.force.alphaTarget(0.3).restart();\r\n      this.setError(\"Force Enabled\", 1000);\r\n    } else {\r\n      this.setError(\r\n        \"Force disabled. Dragging connected nodes changes link distance\",\r\n        3000\r\n      );\r\n\r\n      this.force.force(\"link\", null).force(\"charge\", null);\r\n    }\r\n\r\n    this.previousTransform = d3.select(\"g.gContainer\").attr(\"transform\");\r\n    this.restart();\r\n  };\r\n\r\n  togglePreview = () => {\r\n    var app = this;\r\n    var previousPreview = this.state.preview;\r\n\r\n    if (previousPreview === false) {\r\n      this.setError(\"Preview Mode Enabled\", 1000);\r\n      if (isOptionGroupFormVisible(app)) {\r\n        stretchCloseOptionGroupForm(app, invertOptionGroupVisibility);\r\n      }\r\n      this.setState({ preview: !this.state.preview });\r\n\r\n      if (isTransitionCircleShowing(app)) {\r\n        if (this.isFormShowing) {\r\n          closeForm(app);\r\n          closeNode(app);\r\n        }\r\n        this.optionG\r\n          .selectAll(\"circle.permanent\")\r\n          .transition()\r\n          .duration(500)\r\n          .delay(this.isFormShowing ? 500 : 0)\r\n          .attr(\"r\", 0);\r\n        this.optionG\r\n          .selectAll(\"image.permanent\")\r\n          .transition()\r\n          .duration(500)\r\n          .delay(this.isFormShowing ? 500 : 0)\r\n          .attr(\"width\", 0)\r\n          .attr(\"height\", 0)\r\n          .attr(\"x\", 0)\r\n          .attr(\"y\", 0)\r\n          .on(\"end\", function() {\r\n            app.optionG.selectAll(\"g\").remove();\r\n          });\r\n      }\r\n    } else {\r\n      this.setError(\"Preview Mode Disabled\", 1000);\r\n      this.setState({ preview: !this.state.preview }, () => {\r\n        //.on(\"end\", restart());\r\n        if (app.selectedNode && app.selectedNode.type === \"circle\") {\r\n          var toDispatch = d3\r\n            .selectAll(\".circleGroup\")\r\n            .filter(function(d, i, list) {\r\n              return d.id === app.selectedNode.id;\r\n            });\r\n\r\n          app.restart();\r\n\r\n          toDispatch.dispatch(\"click\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  changeTextSize = newTextSize => {\r\n    if (this.selectedNode) {\r\n      if (this.selectedNode.textSize !== newTextSize) {\r\n        this.selectedNode.textSize = newTextSize;\r\n        this.restart();\r\n      }\r\n      this.selectedNode.textSize = newTextSize;\r\n\r\n      this.restart();\r\n    }\r\n    this.forceUpdate();\r\n  };\r\n\r\n  changeBackgroundColor = color => {\r\n    this.selectedNode.backgroundColor = color;\r\n    this.restart();\r\n    this.forceUpdate();\r\n  };\r\n\r\n  changeStrokeColor = color => {\r\n    this.selectedNode.strokeColor = color;\r\n    this.restart();\r\n    this.forceUpdate();\r\n  };\r\n\r\n  render() {\r\n    let errDisplay = (\r\n      <div className=\"errMsginner\">\r\n        <span style={{ color: \"white\" }} id=\"errMsg\">\r\n          {this.state.errMsg}\r\n        </span>\r\n      </div>\r\n    );\r\n\r\n    if (this.state.errMsg === \"\") {\r\n      errDisplay = null;\r\n    }\r\n    var colorArray = d3.schemeCategory10.slice(0, 8);\r\n    return (\r\n      <React.Fragment>\r\n        <div id=\"editorsContainer\" className=\"\">\r\n          {this.state.showManual ? (\r\n            <Manual toggleManual={this.toggleManual} />\r\n          ) : null}\r\n          <div className=\"GraphEditorContainer\" />\r\n          <div className=\"errMsg\">{errDisplay}</div>\r\n          {!this.state.preview && this.selectedNode ? (\r\n            <ColorCard\r\n              selectedNode={this.selectedNode}\r\n              type={this.selectedNode.type}\r\n              textSize={\r\n                this.selectedNode.type === \"text\"\r\n                  ? this.selectedNode.textSize\r\n                  : null\r\n              }\r\n              changeTextSize={this.changeTextSize}\r\n              changeBackgroundColor={this.changeBackgroundColor}\r\n              changeStrokeColor={this.changeStrokeColor}\r\n            />\r\n          ) : null}\r\n\r\n          {this.state.preview &&\r\n          this.selectedNode &&\r\n          this.selectedNode.type === \"circle\" ? (\r\n            <PreviewCard node={this.selectedNode.storedInfo} />\r\n          ) : null}\r\n          <div className=\"toolbar\">\r\n            <img className=\"icon\" onClick={this.toggleManual} src={manual} />\r\n            <img\r\n              className=\"icon\"\r\n              id=\"focusIcon\"\r\n              src={this.state.focus ? focused : notFocused}\r\n              onClick={this.toggleFocus}\r\n            />\r\n            <img\r\n              className=\"icon\"\r\n              id=\"previewIcon\"\r\n              src={this.state.preview ? preview_purple : preview}\r\n              onClick={this.togglePreview}\r\n            />\r\n            {/*<img\r\n              className=\"icon\"\r\n              id=\"themeIcon\"\r\n              src={this.state.theming ? theming_purple : theming}\r\n            /> */}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GraphEditor;\r\n","import * as d3 from \"d3\";\r\nimport alphabetT from \"../svgs/t-alphabet.svg\";\r\nimport alphabetTPurple from \"../svgs/t-alphabet-purple.svg\";\r\nimport purpleLink from \"../svgs/purpleLink.svg\";\r\nimport { getTranslateString } from \"./TransitionNodesHelperFunctions.js\";\r\nimport link from \"../svgs/link.svg\";\r\n\r\nexport function setOptionGroupTextMouseEvents(app, optionGroupT) {\r\n  optionGroupT\r\n    .on(\"mouseover\", function() {\r\n      d3.select(this).attr(\"xlink:href\", alphabetTPurple);\r\n    })\r\n    .on(\"mouseout\", function() {\r\n      d3.select(this).attr(\"xlink:href\", alphabetT);\r\n    })\r\n    .on(\"click\", function(d) {\r\n      app.optionGroup\r\n        .transition()\r\n        .duration(300)\r\n        .attr(\"opacity\", 0);\r\n      if (app.inConnectMode) {\r\n        console.log(\"in connect mode!\");\r\n        app.optionGroup.attr(\"opacity\", 0);\r\n        app.optionGroupConnector.attr(\"width\", 0);\r\n        app.optionGroupG.attr(\"transform\", getTranslateString(0, 0));\r\n        const node = {\r\n          type: \"text\",\r\n          id: app.nodes.length,\r\n          width: 150,\r\n          height: 60,\r\n          text: [\"\"],\r\n          x: app.selectedNode.x + app.selectedNode.width + 100,\r\n          y: app.selectedNode.y,\r\n          backgroundColor: \"white\",\r\n          strokeColor: \"black\",\r\n          groupID: null,\r\n          textSize: 12,\r\n          textFont: \"sans-serif\"\r\n        };\r\n        app.point = null;\r\n        app.nodes.push(node);\r\n\r\n        app.restart();\r\n        const source = app.selectedNode;\r\n        const target = node;\r\n        var link = {\r\n          source: source,\r\n          target: target,\r\n          linkDistance:\r\n            node.x - app.selectedNode.x > 250\r\n              ? node.x - app.selectedNode.x\r\n              : 250,\r\n          index: app.links.length\r\n        };\r\n        app.links.push(link);\r\n\r\n        var command = {\r\n          action: { type: \"addNodeLink\", node: node, links: [link] },\r\n          inverse: { type: \"delNodeLink\", node: node, links: [link] }\r\n        };\r\n\r\n        app.storeToHistory(command);\r\n\r\n        //not triggering doubleclicking prohibits force from calculating x & y properly?\r\n        var toDispatch = d3.selectAll(\"rect.node\").filter(function(d, i, list) {\r\n          return i === list.length - 1;\r\n        });\r\n        toDispatch.dispatch(\"click\");\r\n        toDispatch.dispatch(\"dblclick\");\r\n\r\n        app.restart();\r\n        // update stroke after restart because\r\n        // update stroke will be selecting new elems\r\n      } else {\r\n        const node = {\r\n          type: \"text\",\r\n          id: app.nodes.length,\r\n          width: 150,\r\n          height: 60,\r\n          text: [\"\"],\r\n          x: app.point[0],\r\n          y: app.point[1],\r\n          backgroundColor: \"white\",\r\n          strokeColor: \"black\",\r\n          groupID: null,\r\n          textSize: 12,\r\n          textFont: \"sans-serif\"\r\n        };\r\n        app.point = null;\r\n        app.nodes.push(node);\r\n        var command = {\r\n          action: { type: \"addNode\", node: node },\r\n          inverse: { type: \"delNode\", node: node }\r\n        };\r\n        app.storeToHistory(command);\r\n\r\n        app.restart();\r\n        var toDispatch = d3.selectAll(\"rect.node\").filter(function(d, i, list) {\r\n          return i === list.length - 1;\r\n        });\r\n        toDispatch.dispatch(\"click\");\r\n        toDispatch.dispatch(\"dblclick\");\r\n\r\n        app.restart();\r\n      }\r\n    });\r\n}\r\n\r\nexport function setOptionGroupLinkMouseEvents(app, optionGroupLink) {\r\n  optionGroupLink\r\n    .on(\"mouseover\", function() {\r\n      d3.select(this).attr(\"xlink:href\", purpleLink);\r\n    })\r\n    .on(\"mouseout\", function() {\r\n      d3.select(this).attr(\"xlink:href\", link);\r\n    })\r\n    .on(\"click\", function(d) {\r\n      app.optionGroup\r\n        .transition()\r\n        .duration(300)\r\n        .attr(\"opacity\", 0);\r\n\r\n      if (app.inConnectMode) {\r\n        console.log(\"in connect mode!\");\r\n        app.optionGroup.attr(\"opacity\", 0);\r\n        app.optionGroupConnector.attr(\"width\", 0);\r\n        app.optionGroupG.attr(\"transform\", getTranslateString(0, 0));\r\n        const node = {\r\n          type: \"circle\",\r\n          id: app.nodes.length,\r\n          width: 150,\r\n          height: 40,\r\n          text: [\"\"],\r\n          x: app.selectedNode.x + app.selectedNode.width + 100,\r\n          y: app.selectedNode.y,\r\n          storedInfo: {\r\n            url: null,\r\n            info: null,\r\n            picture: null,\r\n            title: null\r\n          },\r\n          backgroundColor: \"white\",\r\n          strokeColor: \"black\",\r\n          groupID: null\r\n        };\r\n        app.point = null;\r\n        app.nodes.push(node);\r\n        app.restart();\r\n        const source = app.selectedNode;\r\n        const target = node;\r\n\r\n        var link = {\r\n          source: source,\r\n          target: target,\r\n          linkDistance:\r\n            node.x - app.selectedNode.x > 250\r\n              ? node.x - app.selectedNode.x\r\n              : 250,\r\n          index: app.links.length\r\n        };\r\n        app.links.push(link);\r\n\r\n        var command = {\r\n          action: { type: \"addNodeLink\", node: node, links: [link] },\r\n          inverse: { type: \"delNodeLink\", node: node, links: [link] }\r\n        };\r\n\r\n        app.storeToHistory(command);\r\n        //not triggering doubleclicking prohibits force from calculating x & y properly?\r\n        var toDispatch = d3\r\n          .selectAll(\".circleGroup\")\r\n          .filter(function(d, i, list) {\r\n            return i === list.length - 1;\r\n          });\r\n\r\n        app.selectedNode = app.nodes[app.nodes.length - 1];\r\n        app.restart();\r\n        app.forceUpdate();\r\n        toDispatch.dispatch(\"click\");\r\n      } else {\r\n        const node = {\r\n          type: \"circle\",\r\n          id: app.nodes.length,\r\n          width: 150,\r\n          height: 40,\r\n          text: [\"\"],\r\n          x: app.point[0],\r\n          y: app.point[1],\r\n          storedInfo: {\r\n            url: null,\r\n            info: null,\r\n            picture: null,\r\n            title: null\r\n          },\r\n          backgroundColor: \"white\",\r\n          strokeColor: \"black\",\r\n          groupID: null\r\n        };\r\n        app.point = null;\r\n        app.nodes.push(node);\r\n\r\n        var command = {\r\n          action: { type: \"addNode\", node: node },\r\n          inverse: { type: \"delNode\", node: node }\r\n        };\r\n\r\n        app.storeToHistory(command);\r\n\r\n        app.mousedownNode = app.nodes[app.nodes.length - 1];\r\n        app.restart();\r\n        var toDispatch = d3\r\n          .selectAll(\".circleGroup\")\r\n          .filter(function(d, i, list) {\r\n            return i === list.length - 1;\r\n          });\r\n\r\n        toDispatch.dispatch(\"click\");\r\n      }\r\n    });\r\n}\r\n","export function textArrToHTML(textArr) {\r\n  //[\"hi my name is\", \"andrew chen\"] to <p>hi my name is<br>andrew chen</p>\r\n  var initialHTML = \"<p>\";\r\n  for (var i = 0; i < textArr.length; i++) {\r\n    if (textArr[i] === \"\") {\r\n      initialHTML += \"<br>\";\r\n    } else initialHTML += textArr[i];\r\n\r\n    if (i !== textArr.length - 1 && textArr[i] !== \"\") {\r\n      initialHTML += \"<br>\";\r\n    }\r\n  }\r\n  return initialHTML + \"</p>\";\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        This isyour home\r\n        <a\r\n          style={{ text: \"underline\", color: \"blue\", cursor: \"pointer\" }}\r\n          onClick={() => {\r\n            this.props.history.push(\"/create\");\r\n          }}\r\n        >\r\n          go to GraphEditor\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Home);\r\n","import React from \"react\";\nimport \"./App.css\";\nimport PageContainer from \"./PageContainer.js\";\nimport GraphEditor from \"./Roadmapedia.jsx\";\nimport Home from \"./Home.jsx\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <Router>\n        <Route path=\"\" component={GraphEditor} />\n      </Router>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/t-alphabet.525e6ab5.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.aa6bec56.svg\";","module.exports = __webpack_public_path__ + \"static/media/t-alphabet-purple.243ba647.svg\";","module.exports = __webpack_public_path__ + \"static/media/purpleLink.8c2311d5.svg\";"],"sourceRoot":""}